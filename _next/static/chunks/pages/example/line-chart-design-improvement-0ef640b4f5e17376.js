(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[129],{41608:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/example/line-chart-design-improvement",function(){return n(56651)}])},61651:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(85893);n(67294);var i=n(49871),s=n(28843),a=n(77522);let l={distribution:"Distribution",correlation:"Correlation",ranking:"Ranking",partOfAWhole:"Part Of A Whole",evolution:"Evolution",map:"Map",flow:"Flow",general:"General Knowledge"};function o(e){let{chartFamily:t}=e,n=s.c.filter(e=>e.family===t).map((e,t)=>{let n=(0,a.y)(e.reactURL);return(0,r.jsx)("div",{className:"flex flex-col items-center justify-center",children:(0,r.jsx)(i.Z,{link:n,chartLogo:e.logo,caption:e.label,isAvailable:e.isAvailable,size:122})},t)});return(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:t+"  mt-4 text-md border-b mb-2 border-gray-100 tracking-wider",children:null==l?void 0:l[t]}),(0,r.jsx)("div",{className:"flex flex-row justify-start flex-wrap",children:n})]})}},80153:function(e,t,n){"use strict";n.d(t,{A:function(){return u}});var r=n(85893),i=n(49700),s=n(63476),a=n(67294),l=n(63084),o=n.n(l);function c(){let[e,t]=(0,a.useState)([]),[n,i]=(0,a.useState)(0);return(0,a.useEffect)(()=>{let e=Array.from(document.querySelectorAll("h2"));t(e)},[]),(0,a.useEffect)(()=>{let t=()=>{let t=e.map(e=>e.offsetTop-e.scrollTop+e.clientTop),n=window.scrollY+150,r=t.reduce((e,t)=>Math.abs(t-n)<Math.abs(e-n)?t:e,0),s=t.findIndex(e=>e===r);i(-1===s?0:s)};return window.addEventListener("scroll",t),()=>window.removeEventListener("scroll",t)},[e]),(0,r.jsx)("div",{className:o().tableOfContent,children:e.map((t,i)=>(0,r.jsx)("p",{className:n===i?"".concat(o().tocItem," ").concat(o().tocItemActive):o().tocItem,onClick:t=>{t.preventDefault(),e[i].scrollIntoView({behavior:"smooth",block:"start",alignToTop:!0})},children:t.id.charAt(0).toUpperCase()+t.id.slice(1)},t.id))})}var d=n(17414),h=n(62594);let u=e=>{let{children:t,title:n,seoDescription:a}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.A,{title:n,seoDescription:a}),(0,r.jsx)(i.Z,{}),(0,r.jsx)("div",{className:"wrapper",children:t}),(0,r.jsx)(h.Z,{}),(0,r.jsx)("div",{className:"wrapper",children:(0,r.jsx)(s.Z,{})}),(0,r.jsx)(c,{})]})}},49871:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(85893);n(67294);var i=n(95887),s=n(28843),a=n(41664),l=n.n(a);let o=s.c.filter(e=>"general"===e.family).map(e=>e.logo);function c(e){let{chartLogo:t,caption:n,link:s,isAvailable:a,size:c}=e,h=o.includes(t),u=a?"opacity-100":"opacity-20";return(0,r.jsx)(l(),{href:a?s:"subscribe",className:"no-underline",children:(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsxs)("div",{style:{width:c,height:c},className:"relative mr-2 rounded-full "+u+" "+(a?"cursor-pointer":"cursor-not-allowed"),children:[(0,r.jsx)("div",{className:"absolute",children:(0,r.jsx)(i.Z,{chartLogo:t,size:c})}),h?(0,r.jsx)("div",{className:"absolute opacity-0 hover:opacity-60 flex items-center justify-center w-full h-full z-30",children:(0,r.jsx)(d,{size:c})}):(0,r.jsx)("div",{style:{backgroundColor:"var(--react-gallery)"},className:"opacity-0 hover:opacity-60 flex items-center justify-center w-full h-full rounded-full  z-30",children:(0,r.jsx)("span",{className:"text-white text-4xl",children:"+"})})]}),(0,r.jsx)("p",{className:"font-light text-sm text-gray-600 "+u,children:n})]})})}let d=e=>{let{size:t}=e;return(0,r.jsx)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 100 100",className:"fill-current text-purple-800",children:(0,r.jsx)("path",{d:"M50,0 L100,20 L100,80 L50,100 L0,80 L0,20 Z"})})}},56651:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ee}});var r=n(85893),i=n(67294),s=n.t(i,2),a=n(80153),l=n(43710),o=n(61651),c=n(72313);let d=e=>{let{xScale:t,pixelsPerTick:n,height:i,hasGrid:s}=e,a=t.range(),l=a[1]-a[0],o=t.ticks(Math.floor(l/n)).map(e=>({value:e,xOffset:t(e)}));return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("text",{x:l/2,y:50,fontStyle:"bold",fontSize:14,textAnchor:"center",children:"Year"}),(0,r.jsx)("line",{stroke:"black",x2:a[1]}),o.map((e,t)=>{let{value:n,xOffset:a}=e;return(0,r.jsxs)("g",{transform:"translate(".concat(a,", 0)"),shapeRendering:"crispEdges",children:[(0,r.jsx)("line",{y1:8,y2:0,stroke:"black",strokeWidth:.5}),t%4==0&&s&&(0,r.jsx)("line",{y1:-i,y2:0,stroke:"grey",strokeWidth:.5}),(0,r.jsx)("text",{style:{fontSize:"10px",textAnchor:"middle",transform:"translateY(20px)",fill:"black"},children:n},n)]},n)})]})},h=e=>{let{xScale:t,pixelsPerTick:n,height:s,hasGrid:a}=e,l=t.range(),o=(0,i.useMemo)(()=>{let e=l[1]-l[0];return t.ticks(Math.floor(e/n)).map(e=>({value:e,xOffset:t(e)}))},[t]);return(0,r.jsx)(r.Fragment,{children:o.map((e,t)=>{let{value:n,xOffset:i}=e,l=n%5==0;return(0,r.jsxs)("g",{transform:"translate(".concat(i,", 0)"),shapeRendering:"crispEdges",children:[(0,r.jsx)("line",{y1:l?22:11,y2:0,stroke:l?"black":"#D3D3D3",strokeWidth:.5}),t%4==0&&a&&(0,r.jsx)("line",{y1:-s,y2:0,stroke:"grey",strokeWidth:.5}),(0,r.jsx)("text",{y:l?0:-8,x:5,style:{fontSize:"10px",textAnchor:"start",transform:"translateY(20px)",fill:l?"black":"#D3D3D3"},children:l?n:String(n).slice(-2)},t)]},n)})})},u=e=>{let{yScale:t,pixelsPerTick:n,width:s}=e,a=t.range(),l=(0,i.useMemo)(()=>{let e=a[0]-a[1];return t.ticks(Math.floor(e/n)).map(e=>({value:e,yOffset:t(e)}))},[t]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("path",{d:["M",0,a[0],"L",0,a[1]].join(" "),fill:"none",stroke:"currentColor"}),(0,r.jsx)("g",{transform:"translate(".concat(-40,", ").concat(a[0]/2,")"),children:(0,r.jsx)("text",{transform:"rotate(-90)",fontSize:14,textAnchor:"middle",children:"Percentage (%)"})}),l.map((e,t)=>{let{value:n,yOffset:i}=e;return(0,r.jsxs)("g",{transform:"translate(0, ".concat(i,")"),children:[(0,r.jsx)("line",{x2:-6,stroke:"currentColor"}),(0,r.jsx)("line",{x2:s,x1:0,stroke:"grey",strokeWidth:.5}),(0,r.jsx)("text",{style:{fontSize:"10px",textAnchor:"middle",transform:"translateX(-20px)"},children:n},n)]},n)})]})},f=e=>{let{yScale:t,pixelsPerTick:n,width:s}=e,a=t.range(),l=(0,i.useMemo)(()=>{let e=a[0]-a[1];return t.ticks(Math.floor(e/n)).map(e=>({value:e,yOffset:t(e)}))},[t]);return(0,r.jsx)(r.Fragment,{children:l.map((e,t)=>{let{value:n,yOffset:i}=e;return(0,r.jsxs)("g",{transform:"translate(0, ".concat(i,")"),children:[(0,r.jsx)("line",{x2:s,x1:0,stroke:"#D3D3D3",strokeWidth:1}),(0,r.jsx)("text",{style:{fontSize:"10px",textAnchor:"middle",alignmentBaseline:"middle",transform:"translateX(-20px)"},children:n+"%"},n)]},n)})})};var m=n(77522);let p={top:120,right:140,bottom:100,left:90},x=["#c23b3b","#1f77b4","#2ca02c","#ff7f0e","#9467bd","#17becf","#7f7f7f"],g=e=>{var t,n;let{width:s,height:a,data:l,hasSpine:o,hasLegend:g,hasHighlight:j,hasGrid:y,hasGoodYAxis:v,hasGoodXAxis:b,hasGoodAuthorLabel:w,hasGoodTitleWording:k,hasGoodTitleAlignment:N,hasBackground:C,isLabelOverlapFixed:S}=e,R=(0,i.useMemo)(()=>Object.entries(l).map(e=>{let[t,n]=e,r=Object.entries(n).map(e=>{let[t,n]=e;return{x:Number(t),y:n}});return{name:t,values:r}}),[l]),_=R.flatMap(e=>e.values),D=s-p.left-p.right,A=a-p.top-p.bottom,E=c.Wem(_,e=>e.x),T=(0,i.useMemo)(()=>c.BYU().domain(E).range([0,D]),[_,s]),z=null!==(t=c.Fp7(_,e=>e.y))&&void 0!==t?t:0,I=(0,i.useMemo)(()=>c.BYU().domain([0,z]).range([A,0]),[_,a]),F=c.PKp().domain(R.map(e=>e.name)).range([0,-2,8,-3,4,7,-3]),L=c.PKp().domain(R.map(e=>e.name)).range([1,1,.4,.4,.4,.4,.4]),O=c.PKp().domain(R.map(e=>e.name)).range(x),P=c.jvg().x(e=>T(e.x)).y(e=>I(e.y)),M=R.map((e,t)=>{var n;let i=e.values[e.values.length-1];return(0,r.jsx)("text",{x:D+5,y:I(i.y)+(S?Number(F(e.name)):0),fontSize:12,fill:null!==(n=O(e.name))&&void 0!==n?n:"#000",alignmentBaseline:"central",opacity:j?Number(L(e.name)):1,className:"transition-opacity duration-1000",children:e.name},t)}),G=(0,r.jsx)("g",{transform:"translate(10, 10)",children:R.map((e,t)=>(0,r.jsxs)("g",{transform:"translate(0, ".concat(13*t,")"),children:[(0,r.jsx)("rect",{width:20,height:10,fill:null!==(n=O(e.name))&&void 0!==n?n:"#000"}),(0,r.jsx)("text",{x:28,y:10,fontSize:12,children:e.name})]},e.name))}),W=(0,r.jsxs)("g",{children:[(0,r.jsx)("text",{x:N?p.left:p.left+8,y:N?p.top-60:p.top-40,fontSize:N?22:16,color:"black",fontWeight:"bold",children:k?"You should just end up your relationship!":"15 Years of Reddit Relationship Advice (1,166,592 comments)"}),(0,r.jsx)("text",{x:N?p.left:p.left+15,y:N?p.top-30:p.top-12,fontSize:N?14:10,color:"grey",children:k?"At least that's what people advise more and more on Reddit":"Data Source: r/relationship_advice (5,012,500 posts, 52,685,657 comments) filtered for quality"})]}),$=w?(0,r.jsx)("text",{x:0,y:A+50,fontSize:10,textAnchor:"start",children:"Created by ui/GeargeDaGreat123"}):(0,r.jsx)("text",{x:D-2,y:14,fontSize:10,textAnchor:"end",children:"created by ui/GeargeDaGreat123"}),B=e=>(0,m.cn)("transition-opacity duration-1000",e?"opacity-100":"opacity-0"),Y=R.map(e=>{var t;let n=P(e.values);return n?(0,r.jsx)("path",{d:n,fill:"none",stroke:null!==(t=O(e.name))&&void 0!==t?t:"#000",strokeWidth:2,opacity:j?Number(L(e.name)):1,className:"transition-opacity duration-1000"},e.name):null});return(0,r.jsxs)("svg",{width:s,height:a,className:"overflow-visible",children:[(0,r.jsx)("g",{className:B(C),children:(0,r.jsx)("rect",{width:s,height:a,fill:"#f9f9ff"})}),W,(0,r.jsxs)("g",{transform:"translate(".concat(p.left,", ").concat(p.top,")"),children:[(0,r.jsx)("g",{className:B(v),children:(0,r.jsx)(f,{yScale:I,pixelsPerTick:100,width:D})}),(0,r.jsx)("g",{className:B(!v),children:(0,r.jsx)(u,{yScale:I,pixelsPerTick:30,width:D})})]}),(0,r.jsxs)("g",{transform:"translate(".concat(p.left,", ").concat(p.top+A,")"),children:[(0,r.jsx)("g",{className:B(b),children:(0,r.jsx)(h,{xScale:T,pixelsPerTick:40,height:A,hasGrid:y})}),(0,r.jsx)("g",{className:B(!b),children:(0,r.jsx)(d,{xScale:T,pixelsPerTick:30,height:A,hasGrid:y})})]}),(0,r.jsxs)("g",{transform:"translate(".concat(p.left,",").concat(p.top,")"),children:[Y,(0,r.jsx)("g",{className:B(g),children:G}),(0,r.jsx)("g",{className:B(!g),children:M})]}),(0,r.jsx)("g",{transform:"translate(".concat(p.left,",").concat(p.top,")"),children:(0,r.jsx)("g",{className:B(o),children:(0,r.jsx)("rect",{width:D,height:A,stroke:"black",opacity:1,fill:"none"})})}),(0,r.jsx)("g",{transform:"translate(".concat(p.left,",").concat(p.top,")"),children:$})]})},j={"End Relationship":{2010:31,2011:33,2012:34,2013:32,2014:35,2015:37,2016:39,2017:41,2018:40,2019:38,2020:39,2021:40,2022:42,2023:46,2024:49,2025:50},Communicate:{2010:25,2011:24,2012:23,2013:22,2014:21,2015:21,2016:20,2017:19,2018:19,2019:18,2020:18,2021:17,2022:16,2023:15,2024:14,2025:13},"Give Space / Time":{2010:19,2011:18,2012:18,2013:17,2014:17,2015:17,2016:16,2017:16,2018:15,2019:15,2020:15,2021:15,2022:14,2023:13,2024:12,2025:11},"Set / Respect Boundar.":{2010:12,2011:12,2012:11,2013:11,2014:12,2015:12,2016:12,2017:12,2018:12,2019:13,2020:13,2021:13,2022:14,2023:14,2024:15,2025:15},"Seek Therapy":{2010:6,2011:6,2012:6,2013:7,2014:7,2015:7,2016:8,2017:8,2018:9,2019:9,2020:10,2021:10,2022:10,2023:11,2024:11,2025:11},Compromise:{2010:7,2011:7,2012:7,2013:6,2014:6,2015:6,2016:6,2017:6,2018:6,2019:5,2020:5,2021:5,2022:4,2023:4,2024:4,2025:4},Other:{2010:3,2011:2,2012:3.5,2013:2,2014:3,2015:3.5,2016:3,2017:4,2018:4,2019:3,2020:2,2021:2,2022:3,2023:3,2024:4,2025:5}};function y(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=(t=r,function(){let e=t+=1831565813;return e=Math.imul(e^e>>>15,1|e),(((e^=e+Math.imul(e^e>>>7,61|e))^e>>>14)>>>0)/4294967296}),s={};for(let t in e){let r=e[t],a=[];for(let e in r){let t=parseFloat(e),s=r[e];if(a.push([t,s]),!e.includes("."))for(let e=.25;e<1;e+=.25){let r=t+e,l=s+(i()*n*2-n);a.push([parseFloat(r.toFixed(2)),parseFloat(l.toFixed(2))])}}a.sort((e,t)=>e[0]-t[0]);let l={};for(let[e,t]of a)l[e.toFixed(2)]=t;s[t]=l}return s}function v(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function b(...e){return t=>{let n=!1,r=e.map(e=>{let r=v(e,t);return n||"function"!=typeof r||(n=!0),r});if(n)return()=>{for(let t=0;t<r.length;t++){let n=r[t];"function"==typeof n?n():v(e[t],null)}}}}function w(...e){return i.useCallback(b(...e),e)}"undefined"!=typeof window&&window.document&&window.document.createElement;var k=globalThis?.document?i.useLayoutEffect:()=>{},N=s[" useInsertionEffect ".trim().toString()]||k;Symbol("RADIX:SYNC_STATE"),n(73935);var C=Symbol("radix.slottable");function S(e){return i.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===C}var R=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let n=function(e){let t=function(e){let t=i.forwardRef((e,t)=>{let{children:n,...r}=e;if(i.isValidElement(n)){let e,s;let a=(s=(e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?n.ref:(s=(e=Object.getOwnPropertyDescriptor(n,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?n.props.ref:n.props.ref||n.ref,l=function(e,t){let n={...t};for(let r in t){let i=e[r],s=t[r],a=/^on[A-Z]/.test(r);a?i&&s?n[r]=(...e)=>{let t=s(...e);return i(...e),t}:i&&(n[r]=i):"style"===r?n[r]={...i,...s}:"className"===r&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}(r,n.props);return n.type!==i.Fragment&&(l.ref=t?b(t,a):a),i.cloneElement(n,l)}return i.Children.count(n)>1?i.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),n=i.forwardRef((e,n)=>{let{children:s,...a}=e,l=i.Children.toArray(s),o=l.find(S);if(o){let e=o.props.children,s=l.map(t=>t!==o?t:i.Children.count(e)>1?i.Children.only(null):i.isValidElement(e)?e.props.children:null);return(0,r.jsx)(t,{...a,ref:n,children:i.isValidElement(e)?i.cloneElement(e,void 0,s):null})}return(0,r.jsx)(t,{...a,ref:n,children:s})});return n.displayName=`${e}.Slot`,n}(`Primitive.${t}`),s=i.forwardRef((e,i)=>{let{asChild:s,...a}=e,l=s?n:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,r.jsx)(l,{...a,ref:i})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{}),_="Switch",[D,A]=function(e,t=[]){let n=[],s=()=>{let t=n.map(e=>i.createContext(e));return function(n){let r=n?.[e]||t;return i.useMemo(()=>({[`__scope${e}`]:{...n,[e]:r}}),[n,r])}};return s.scopeName=e,[function(t,s){let a=i.createContext(s),l=n.length;n=[...n,s];let o=t=>{let{scope:n,children:s,...o}=t,c=n?.[e]?.[l]||a,d=i.useMemo(()=>o,Object.values(o));return(0,r.jsx)(c.Provider,{value:d,children:s})};return o.displayName=t+"Provider",[o,function(n,r){let o=r?.[e]?.[l]||a,c=i.useContext(o);if(c)return c;if(void 0!==s)return s;throw Error(`\`${n}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let n=()=>{let n=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let r=n.reduce((t,{useScope:n,scopeName:r})=>{let i=n(e),s=i[`__scope${r}`];return{...t,...s}},{});return i.useMemo(()=>({[`__scope${t.scopeName}`]:r}),[r])}};return n.scopeName=t.scopeName,n}(s,...t)]}(_),[E,T]=D(_),z=i.forwardRef((e,t)=>{let{__scopeSwitch:n,name:s,checked:a,defaultChecked:l,required:o,disabled:c,value:d="on",onCheckedChange:h,form:u,...f}=e,[m,p]=i.useState(null),x=w(t,e=>p(e)),g=i.useRef(!1),j=!m||u||!!m.closest("form"),[y,v]=function({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){let[s,a,l]=function({defaultProp:e,onChange:t}){let[n,r]=i.useState(e),s=i.useRef(n),a=i.useRef(t);return N(()=>{a.current=t},[t]),i.useEffect(()=>{s.current!==n&&(a.current?.(n),s.current=n)},[n,s]),[n,r,a]}({defaultProp:t,onChange:n}),o=void 0!==e,c=o?e:s;{let t=i.useRef(void 0!==e);i.useEffect(()=>{let e=t.current;if(e!==o){let t=o?"controlled":"uncontrolled";console.warn(`${r} is changing from ${e?"controlled":"uncontrolled"} to ${t}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}t.current=o},[o,r])}let d=i.useCallback(t=>{if(o){let n="function"==typeof t?t(e):t;n!==e&&l.current?.(n)}else a(t)},[o,e,a,l]);return[c,d]}({prop:a,defaultProp:l??!1,onChange:h,caller:_});return(0,r.jsxs)(E,{scope:n,checked:y,disabled:c,children:[(0,r.jsx)(R.button,{type:"button",role:"switch","aria-checked":y,"aria-required":o,"data-state":O(y),"data-disabled":c?"":void 0,disabled:c,value:d,...f,ref:x,onClick:function(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(e?.(r),!1===n||!r.defaultPrevented)return t?.(r)}}(e.onClick,e=>{v(e=>!e),j&&(g.current=e.isPropagationStopped(),g.current||e.stopPropagation())})}),j&&(0,r.jsx)(L,{control:m,bubbles:!g.current,name:s,value:d,checked:y,required:o,disabled:c,form:u,style:{transform:"translateX(-100%)"}})]})});z.displayName=_;var I="SwitchThumb",F=i.forwardRef((e,t)=>{let{__scopeSwitch:n,...i}=e,s=T(I,n);return(0,r.jsx)(R.span,{"data-state":O(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:t})});F.displayName=I;var L=i.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:s=!0,...a},l)=>{let o=i.useRef(null),c=w(o,l),d=function(e){let t=i.useRef({value:e,previous:e});return i.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}(n),h=function(e){let[t,n]=i.useState(void 0);return k(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let r,i;if(!Array.isArray(t)||!t.length)return;let s=t[0];if("borderBoxSize"in s){let e=s.borderBoxSize,t=Array.isArray(e)?e[0]:e;r=t.inlineSize,i=t.blockSize}else r=e.offsetWidth,i=e.offsetHeight;n({width:r,height:i})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}n(void 0)},[e]),t}(t);return i.useEffect(()=>{let e=o.current;if(!e)return;let t=window.HTMLInputElement.prototype,r=Object.getOwnPropertyDescriptor(t,"checked"),i=r.set;if(d!==n&&i){let t=new Event("click",{bubbles:s});i.call(e,n),e.dispatchEvent(t)}},[d,n,s]),(0,r.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:c,style:{...a.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function O(e){return e?"checked":"unchecked"}L.displayName="SwitchBubbleInput";let P=i.forwardRef((e,t)=>{let{className:n,...i}=e;return(0,r.jsx)(z,{className:(0,m.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",n),...i,ref:t,children:(0,r.jsx)(F,{className:(0,m.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});function M(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}P.displayName=z.displayName;var G=Symbol.for("react.lazy"),W=s[" use ".trim().toString()];function $(e){var t;return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===G&&"_payload"in e&&"object"==typeof(t=e._payload)&&null!==t&&"then"in t}var B=Symbol("radix.slottable");function Y(e){return i.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===B}var X=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let n=function(e){let t=function(e){let t=i.forwardRef((e,t)=>{let{children:n,...r}=e;if($(n)&&"function"==typeof W&&(n=W(n._payload)),i.isValidElement(n)){var s;let e,a;let l=(s=n,(a=(e=Object.getOwnPropertyDescriptor(s.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?s.ref:(a=(e=Object.getOwnPropertyDescriptor(s,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?s.props.ref:s.props.ref||s.ref),o=function(e,t){let n={...t};for(let r in t){let i=e[r],s=t[r],a=/^on[A-Z]/.test(r);a?i&&s?n[r]=(...e)=>{let t=s(...e);return i(...e),t}:i&&(n[r]=i):"style"===r?n[r]={...i,...s}:"className"===r&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}(r,n.props);return n.type!==i.Fragment&&(o.ref=t?function(...e){return t=>{let n=!1,r=e.map(e=>{let r=M(e,t);return n||"function"!=typeof r||(n=!0),r});if(n)return()=>{for(let t=0;t<r.length;t++){let n=r[t];"function"==typeof n?n():M(e[t],null)}}}}(t,l):l),i.cloneElement(n,o)}return i.Children.count(n)>1?i.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),n=i.forwardRef((e,n)=>{let{children:s,...a}=e;$(s)&&"function"==typeof W&&(s=W(s._payload));let l=i.Children.toArray(s),o=l.find(Y);if(o){let e=o.props.children,s=l.map(t=>t!==o?t:i.Children.count(e)>1?i.Children.only(null):i.isValidElement(e)?e.props.children:null);return(0,r.jsx)(t,{...a,ref:n,children:i.isValidElement(e)?i.cloneElement(e,void 0,s):null})}return(0,r.jsx)(t,{...a,ref:n,children:s})});return n.displayName=`${e}.Slot`,n}(`Primitive.${t}`),s=i.forwardRef((e,i)=>{let{asChild:s,...a}=e,l=s?n:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,r.jsx)(l,{...a,ref:i})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{}),Z=i.forwardRef((e,t)=>(0,r.jsx)(X.label,{...e,ref:t,onMouseDown:t=>{let n=t.target;n.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));Z.displayName="Label";var V=n(45139);let q=(0,V.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),H=i.forwardRef((e,t)=>{let{className:n,...i}=e;return(0,r.jsx)(Z,{ref:t,className:(0,m.cn)(q(),n),...i})});H.displayName=Z.displayName;var U=n(5),K=n(41664),J=n.n(K);let Q=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("p",{children:["I teach data visualization with"," ",(0,r.jsx)("a",{href:"https://www.ggplot2-uncharted.com",children:"R"})," and"," ",(0,r.jsx)("a",{href:"https://www.matplotlib-journey.com",children:"Python"}),", which means I review hundreds of charts from talented students. The same issues come up"," ",(0,r.jsx)("b",{children:"again and again"}),"."]}),(0,r.jsx)("p",{children:"This page takes a chart with a solid message and improves it step by step. It is a practical way to revisit the most common pitfalls and see the impact of each fix."})]});function ee(){let[e,t]=(0,i.useState)(!0),[n,s]=(0,i.useState)(!0),[c,d]=(0,i.useState)(!1),[h,u]=(0,i.useState)(!0),[f,m]=(0,i.useState)(!1),[p,x]=(0,i.useState)(!1),[v,b]=(0,i.useState)(!1),[w,k]=(0,i.useState)(!1),[N,C]=(0,i.useState)(!1),[S,R]=(0,i.useState)(!1),[_,D]=(0,i.useState)(!1),[A,E]=(0,i.useState)(1),T=(0,i.useRef)([]);(0,i.useEffect)(()=>{let e=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&E(Number(e.target.id))})},{root:null,threshold:.1,rootMargin:"-40% 0px -40% 0px"});return T.current.forEach(t=>{t&&e.observe(t)}),()=>e.disconnect()},[]);let z=e=>new Promise(t=>setTimeout(t,e)),I=async()=>{t(!0),s(!0),d(!1),u(!0),m(!1),x(!1),await z(1500),t(!1),await z(1500),s(!1),await z(1500),d(!0),await z(1500),u(!1),await z(1500),m(!0),await z(1500),x(!0),await z(1500),k(!0),await z(1500),C(!0),await z(1500),R(!0),await z(1500),D(!0),await z(1500),b(!0),await z(1500),d(!0)},F=async()=>{t(!0),s(!0),d(!1),u(!0),m(!1),x(!1),b(!1),k(!1),C(!1),R(!1),D(!1)},L=async()=>{t(!1),s(!1),d(!0),u(!1),m(!0),x(!0),b(!0),k(!0),C(!0),R(!0),D(!0)};return(0,r.jsxs)(a.A,{title:"Line chart revamp.",seoDescription:"Learn how to make charts look professional with simple design improvements. Toggle common visualization mistakes, see their impact instantly, and master clearer, more effective data storytelling.",children:[(0,r.jsx)(l.Z,{title:"Line Chart Remake",description:Q,chartType:"line"}),(0,r.jsx)("h2",{id:"intro",children:"\uD83D\uDCCD Original Chart and Code"}),(0,r.jsxs)("p",{children:["Reddit hosts an active channel called ",(0,r.jsx)("code",{children:"relationship_advice"})," ","where people share their relationship struggles to get guidance. Recently, ",(0,r.jsx)("code",{children:"@GeorgeDaGreat123"})," used AI to analyze fifteen years of comments from this wild corner of the platform."]}),(0,r.jsxs)("p",{children:["It sparked plenty of"," ",(0,r.jsx)("a",{href:"https://www.reddit.com/r/dataisbeautiful/comments/1o87cy4/oc_i_analyzed_15_years_of_comments_on/",target:"_blank",children:"debate"}),", but that is not the focus here. Instead, let's take a look at the original chart that's been published:"]}),(0,r.jsx)("div",{className:"full-bleed flex justify-center mx-2",children:(0,r.jsxs)("div",{className:"grid grid-cols-12 gap-14",style:{maxWidth:1100},children:[(0,r.jsxs)("div",{className:"col-span-5 inline-block px-8",children:[(0,r.jsx)("div",{className:"h-20"}),(0,r.jsxs)(en,{index:0,active:0===A,sectionRefs:T,children:[(0,r.jsxs)("p",{children:["Everything starts with a pretty classic"," ",(0,r.jsx)(J(),{href:"/line-chart",children:"line chart"}),". Each line shows the proportion of a group of comments."]}),(0,r.jsx)("p",{children:"The comments advising the break up the relationships are in red, the ones advising to communicate better in blue and so on."}),(0,r.jsxs)("p",{children:["From the graph style, I'm pretty sure it's been made using Python and"," ",(0,r.jsx)("a",{href:"https://www.matplotlib-journey.com",children:"Matplotlib"}),"."]})]}),(0,r.jsxs)(en,{index:1,active:1===A,sectionRefs:T,children:[(0,r.jsxs)("p",{children:["My first step was to reproduce this graph using React and"," ",(0,r.jsx)(J(),{href:"/",children:"D3.js"}),"."]}),(0,r.jsx)("p",{children:"Not easy, as the underlying data is not available anywhere. In a perfect world everything would be hosted on Github together with the code but hey \uD83E\uDD37‍♂️"}),(0,r.jsx)("p",{children:"So I gave the chart to a LLM to extract approximate data. The result is quite close isn't it?"}),(0,r.jsx)("p",{children:"Now the fun starts."})]}),(0,r.jsxs)(en,{index:2,active:2===A,sectionRefs:T,children:[(0,r.jsx)("p",{children:"The legend made readers constantly jump back and forth to interpret the lines."}),(0,r.jsxs)("p",{children:["This adds unnecessary ",(0,r.jsx)("b",{children:"cognitive load"}),". If the story isn’t immediately clear, people will give up."]}),(0,r.jsx)("p",{children:"Direct labeling solves this!"})]}),(0,r.jsxs)(en,{index:3,active:3===A,sectionRefs:T,children:[(0,r.jsx)("p",{children:"A simple yet powerful improvement: removing the spine."}),(0,r.jsx)("p",{children:"The spine—the surrounding box—adds clutter without conveying any information."}),(0,r.jsx)("p",{children:"Surprisingly, many viz libraries add it by default. Now our chart has some breathing room, doesn’t it?"})]}),(0,r.jsxs)(en,{index:4,active:4===A,sectionRefs:T,children:[(0,r.jsx)("p",{children:"I’m not a big fan of dense grid lines."}),(0,r.jsx)("p",{children:"In our decluttering mission, removing the horizontal ones is an easy win."})]}),(0,r.jsxs)(en,{index:5,active:5===A,sectionRefs:T,children:[(0,r.jsx)("p",{children:"Time to improve the Y axis!"}),(0,r.jsx)("p",{children:"The axis title isn’t really needed. By simply adding a % next to the numbers, the chart becomes clearer and less cluttered."}),(0,r.jsx)("p",{children:"Same principle applies: use less ink to convey the same information."})]}),(0,r.jsxs)(en,{index:6,active:6===A,sectionRefs:T,children:[(0,r.jsxs)("p",{children:["Now it’s clear the X axis could use some improvement. The number"," ",(0,r.jsx)("code",{children:"20"})," appeared repeatedly: let’s show only what matters instead."]}),(0,r.jsx)("p",{children:"It’s also obvious that these are years, so the axis title isn’t really necessary."})]}),(0,r.jsxs)(en,{index:7,active:7===A,sectionRefs:T,children:[(0,r.jsx)("p",{children:'The author label in the top right was distracting, competing with the most interesting part of the chart: the spike in the "end relationship" line.'}),(0,r.jsxs)("p",{children:["Let’s move it to a ",(0,r.jsx)("b",{children:"caption"})," instead and give it some subtle formatting."]})]}),(0,r.jsxs)(en,{index:8,active:8===A,sectionRefs:T,children:[(0,r.jsx)("p",{children:"The title and subtitle aren’t doing their job."}),(0,r.jsxs)("p",{children:["They describe instead of ",(0,r.jsx)("b",{children:"telling a story"}),". Your reader is in a hurry and wants to grasp the point instantly. You want them hooked."]}),(0,r.jsx)("p",{children:"Let’s reword them to make people stop scrolling while still clearly showing what the graph reveals."})]}),(0,r.jsxs)(en,{index:9,active:9===A,sectionRefs:T,children:[(0,r.jsx)("p",{children:"Some design golden rules:"}),(0,r.jsxs)("ul",{children:[(0,r.jsx)("li",{children:"everything should be aligned with something"}),(0,r.jsx)("li",{children:"Use a clear hierarchy of information"})]}),(0,r.jsx)("p",{children:"That's an easy fix but that makes the chart look more professional."})]}),(0,r.jsx)(en,{index:10,active:10===A,sectionRefs:T,children:(0,r.jsx)("p",{children:"Let’s give the chart some breathing room, along with a subtle background to make it stand out a bit more."})}),(0,r.jsxs)(en,{index:11,active:11===A,sectionRefs:T,children:[(0,r.jsx)("p",{children:"Let’s slightly nudge the line labels—they’re currently overlapping."}),(0,r.jsx)("p",{children:"This is a very common struggle and can be surprisingly time-consuming. Clever helper libraries can solve it, but that’s not today’s topic \uD83D\uDE42"})]}),(0,r.jsxs)(en,{index:12,active:12===A,sectionRefs:T,children:[(0,r.jsx)("p",{children:"There are quite a few lines on this chart, but not all of them matter equally for the story."}),(0,r.jsx)("p",{children:"Once again, let’s guide the time-pressed reader toward what matters most."}),(0,r.jsx)("p",{children:"By slightly reducing the opacity of all but two lines, the main message becomes clear: people increasingly advise breakups, while communication is suggested less often."})]})]}),(0,r.jsx)("div",{className:"col-span-7 relative",children:(0,r.jsx)("div",{className:"sticky top-40 flex justify-center mt-40",children:0===A?(0,r.jsx)("img",{src:"/img/reddit-comments-line-chart.webp",className:"w-full h-auto object-contain",alt:""}):(0,r.jsx)(g,{data:y(j,1),width:640,height:600,hasLegend:!(A>1),hasSpine:!(A>2),hasGrid:!(A>3),hasGoodYAxis:A>4,hasGoodXAxis:A>5,hasGoodAuthorLabel:A>6,hasGoodTitleWording:A>7,hasGoodTitleAlignment:A>8,hasBackground:A>9,isLabelOverlapFixed:A>10,hasHighlight:A>11})})})]})}),(0,r.jsx)("h2",{id:"plot",children:"\uD83C\uDFAE Your turn"}),(0,r.jsx)("p",{children:"Do you ever make a chart that doesn’t feel professional, but you can’t quite say why?"}),(0,r.jsx)("p",{children:"That’s a very common feeling."}),(0,r.jsx)("p",{children:"Try playing with the options below to see their effect one by one. Hopefully, you’ll keep them in mind the next time you run into design issues."}),(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-x-6 gap-y-2 mt-12",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(P,{id:"spine",checked:!e,onCheckedChange:e=>t(!e)}),(0,r.jsx)(H,{htmlFor:"spine",className:"font-normal",children:"Remove spine"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(P,{id:"legend",checked:!n,onCheckedChange:e=>s(!e)}),(0,r.jsx)(H,{htmlFor:"legend",className:"font-normal",children:"Direct labeling"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(P,{id:"highlight",checked:c,onCheckedChange:e=>d(e)}),(0,r.jsx)(H,{htmlFor:"highlight",className:"font-normal",children:"Highlight"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(P,{id:"caption",checked:w,onCheckedChange:e=>k(e)}),(0,r.jsx)(H,{htmlFor:"spine",className:"font-normal",children:"Author in caption"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(P,{id:"grid",checked:!h,onCheckedChange:e=>u(!e)}),(0,r.jsx)(H,{htmlFor:"grid",className:"font-normal",children:"Remove X Grid"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(P,{id:"betterY",checked:f,onCheckedChange:e=>m(e)}),(0,r.jsx)(H,{htmlFor:"betterY",className:"font-normal",children:"Better Y axis"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(P,{id:"betterX",checked:p,onCheckedChange:e=>x(e)}),(0,r.jsx)(H,{htmlFor:"betterX",className:"font-normal",children:"Better X axis"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(P,{id:"titleWording",checked:N,onCheckedChange:e=>C(e)}),(0,r.jsx)(H,{htmlFor:"betterX",className:"font-normal",children:"Better title wording"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(P,{id:"titlealign",checked:S,onCheckedChange:e=>R(e)}),(0,r.jsx)(H,{htmlFor:"betterX",className:"font-normal",children:"Align and format title"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(P,{id:"labelOverlap",checked:v,onCheckedChange:e=>b(e)}),(0,r.jsx)(H,{htmlFor:"betterX",className:"font-normal",children:"Fix label overlap"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(P,{id:"background",checked:_,onCheckedChange:e=>D(e)}),(0,r.jsx)(H,{htmlFor:"background",className:"font-normal",children:"Show Background"})]})]}),(0,r.jsxs)("div",{className:"flex gap-2 my-4",children:[(0,r.jsx)(U.z,{onClick:F,variant:"outline",size:"sm",children:"Start"}),(0,r.jsx)(U.z,{onClick:L,variant:"outline",size:"sm",children:"End"}),(0,r.jsx)(U.z,{onClick:I,size:"sm",children:"Improve step by step"})]}),(0,r.jsx)(g,{data:y(j,1),width:700,height:600,hasSpine:e,hasLegend:n,hasHighlight:c,hasGrid:h,hasGoodYAxis:f,hasGoodXAxis:p,hasGoodAuthorLabel:w,hasGoodTitleWording:N,hasGoodTitleAlignment:S,hasBackground:_,isLabelOverlapFixed:v}),(0,r.jsx)("h2",{id:"plot",children:"\uD83D\uDCCD Useful links"}),(0,r.jsxs)("ul",{children:[(0,r.jsxs)("li",{children:["Dataviz"," ",(0,r.jsx)("a",{href:"https://www.matplotlib-journey.com/bonus/design-principles",target:"_blank",children:"design game"})]}),(0,r.jsxs)("li",{children:["Learn how to make great charts with"," ",(0,r.jsx)("a",{href:"www.ggplot2-uncharted.com",target:"_blank",children:"R"})," ","and"," ",(0,r.jsx)("a",{href:"https://www.matplotlib-journey.com",target:"_blank",children:"Python"})]}),(0,r.jsxs)("li",{children:["List of"," ",(0,r.jsx)("a",{href:"https://www.data-to-viz.com/caveats.html",target:"_blank",children:"dataviz caveats"})]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("a",{href:"https://github.com/holtzy/react-graph-gallery/tree/main/viz/LineChartDesignImprovement",target:"_blank",children:"Code"})," ","for this chart"]})]}),(0,r.jsx)("div",{className:"full-bleed border-t h-0 bg-gray-100 mb-3 mt-24"}),(0,r.jsx)(o.Z,{chartFamily:"evolution"}),(0,r.jsx)("div",{className:"mt-20"})]})}let et=e=>{let{number:t}=e;return(0,r.jsx)("div",{className:"border flex justify-center items-center p-1 border-black rounded-full h-8 w-8 text-md font-bold mb-4",children:t})};function en(e){let{index:t,active:n,children:i,sectionRefs:s}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{id:String(t),ref:e=>s.current[t]=e,className:(0,m.cn)(n?"opacity-100":"opacity-20","transition-opacity duration-500"),children:[(0,r.jsx)(et,{number:t}),i]}),(0,r.jsx)("div",{className:"h-80"})]})}},63084:function(e){e.exports={tableOfContent:"table-of-content_tableOfContent__jj0Ai",tocItem:"table-of-content_tocItem__osS9X",tocItemActive:"table-of-content_tocItemActive__CGMTh"}}},function(e){e.O(0,[2343,7754,2313,8190,3710,2594,9774,2888,179],function(){return e(e.s=41608)}),_N_E=e.O()}]);