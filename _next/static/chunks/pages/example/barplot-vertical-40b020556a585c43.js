(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7763],{12568:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/example/barplot-vertical",function(){return a(65341)}])},65341:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return x}});var n=a(85893);a(67294);var r=a(80153),i=a(43710),o=a(61651),l=a(81122),s=a(41664),h=a.n(s),c=a(52450),d=a(27986),p=a(3572);let u=(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("p",{children:["Bar charts are often better using horizontal bars and the gallery does a"," ",(0,n.jsx)(h(),{href:"/barplot",children:"in-depth description"})," on how to make them."]}),(0,n.jsx)("p",{children:"In some situation, the vertical barplot can still be a good option. If group labels are very short and can still be written horizontally, or if you're dealing with time related data."}),(0,n.jsx)("p",{children:"Let's see how to make them using React and D3!"})]});function x(){return(0,n.jsxs)(r.A,{title:"Vertical Barplot",seoDescription:"How to make a vertical barplot using React and D3.js",children:[(0,n.jsx)(i.Z,{title:(0,n.jsx)("h1",{children:"Vertical barplot"}),description:u,chartType:"barplot"}),(0,n.jsx)("h2",{id:"plot",children:"Plot and code"}),(0,n.jsx)("p",{children:"Here is a code sandbox in case you want to jump straight into the code."}),(0,n.jsxs)("p",{children:["Note that the gallery provides an in-depth description of the process leading to a ",(0,n.jsx)(h(),{href:"/barplot",children:"barplot"}),". This page will just highlight the differences for the vertical version!"]}),(0,n.jsx)(l.$,{vizName:"BarplotVertical",VizComponent:d.d,height:400,maxWidth:600,caption:"Basic vertical barplot made with React and D3.js"}),(0,n.jsx)("h2",{id:"plot",children:"Deal with vertical rectangles"}),(0,n.jsx)("p",{children:"Vertical barplot are slightly more tricky to deal with than horizontal barplots."}),(0,n.jsxs)("p",{children:["Indeed, in SVG, rectangles are drawn ",(0,n.jsx)("b",{children:"from top to bottom"}),". You provide a ",(0,n.jsx)("code",{children:"y"})," argument that is the position of the top of the bar, and a ",(0,n.jsx)("code",{children:"height"})," argument that tells how much lower the bar should go."]}),(0,n.jsxs)("p",{children:["I strongly recommend to invert the ",(0,n.jsx)("code",{children:"domain"})," argument of the"," ",(0,n.jsx)("code",{children:"yScale"})," function:"]}),(0,n.jsx)(p.d,{code:"\nconst yScale = scaleLinear()\n  .domain([max, 0])\n  .range([0, boundsHeight]);\n      ".trim()}),(0,n.jsxs)("p",{children:["This way, the max value will be mapped to the ",(0,n.jsx)("b",{children:"top"})," of the SVG area (",(0,n.jsx)("code",{children:"0px"}),"), and the lowest values will be sent to the very bottom of the SVG area."]}),(0,n.jsxs)("p",{children:["It also makes easy to find the value of the ",(0,n.jsx)("code",{children:"y"})," argument of the ",(0,n.jsx)("code",{children:"rectangle"}),": you just have to call the"," ",(0,n.jsx)("code",{children:"yScale"})," with the bar value."]}),(0,n.jsxs)("p",{children:["To find the rectangle ",(0,n.jsx)("code",{children:"height"}),", you must use to total height of the graph and substract the bar value:"]}),(0,n.jsx)(p.d,{code:"\n<rect\n    x={x}\n    y={yScale(d.value)}\n    width={xScale.bandwidth()}\n    height={boundsHeight - yScale(d.value)}\n/>\n        ".trim()}),(0,n.jsx)("h2",{id:"variation",children:"Variation"}),(0,n.jsx)("p",{children:"Check those other barplot and stacked barplot that can interest you:"}),(0,n.jsx)(c.Z,{images:["barplot-basic.png","barplotDatasetAnimation.gif","barplot-stacked-horizontal.png","barplot-the-economist"]}),(0,n.jsx)("div",{className:"full-bleed border-t h-0 bg-gray-100 mb-3 mt-24"}),(0,n.jsx)(o.Z,{chartFamily:"ranking"}),(0,n.jsx)("div",{className:"mt-20"})]})}}},function(e){e.O(0,[2343,7754,2313,7823,8190,3710,2594,693,8785,9774,2888,179],function(){return e(e.s=12568)}),_N_E=e.O()}]);