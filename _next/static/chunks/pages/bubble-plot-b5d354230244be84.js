(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[237],{45650:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/bubble-plot",function(){return n(28617)}])},61651:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var i=n(85893);n(67294);var r=n(49871),o=n(28843),c=n(77522);let a={distribution:"Distribution",correlation:"Correlation",ranking:"Ranking",partOfAWhole:"Part Of A Whole",evolution:"Evolution",map:"Map",flow:"Flow",general:"General Knowledge"};function p(e){let{chartFamily:t}=e,n=o.c.filter(e=>e.family===t).map((e,t)=>{let n=(0,c.y)(e.reactURL);return(0,i.jsx)("div",{className:"flex flex-col items-center justify-center",children:(0,i.jsx)(r.Z,{link:n,chartLogo:e.logo,caption:e.label,isAvailable:e.isAvailable,size:122})},t)});return(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:t+"  mt-4 text-md border-b mb-2 border-gray-100 tracking-wider",children:null==a?void 0:a[t]}),(0,i.jsx)("div",{className:"flex flex-row justify-start flex-wrap",children:n})]})}},52450:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var i=n(85893);n(67294);var r=n(92050),o=n(49975),c=n(59942);function a(e){let{images:t}=e,n=r.F.filter(e=>t.includes(e.img)).map((e,t)=>(0,i.jsx)(o.X,{link:e.link,title:e.title,description:(0,i.jsx)("p",{children:e.description}),img:e.img,alt:e.alt},t));return(0,i.jsx)(c.E,{children:n})}},80153:function(e,t,n){"use strict";n.d(t,{A:function(){return h}});var i=n(85893),r=n(49700),o=n(63476),c=n(67294),a=n(63084),p=n.n(a);function s(){let[e,t]=(0,c.useState)([]),[n,r]=(0,c.useState)(0);return(0,c.useEffect)(()=>{let e=Array.from(document.querySelectorAll("h2"));t(e)},[]),(0,c.useEffect)(()=>{let t=()=>{let t=e.map(e=>e.offsetTop-e.scrollTop+e.clientTop),n=window.scrollY+150,i=t.reduce((e,t)=>Math.abs(t-n)<Math.abs(e-n)?t:e,0),o=t.findIndex(e=>e===i);r(-1===o?0:o)};return window.addEventListener("scroll",t),()=>window.removeEventListener("scroll",t)},[e]),(0,i.jsx)("div",{className:p().tableOfContent,children:e.map((t,r)=>(0,i.jsx)("p",{className:n===r?"".concat(p().tocItem," ").concat(p().tocItemActive):p().tocItem,onClick:t=>{t.preventDefault(),e[r].scrollIntoView({behavior:"smooth",block:"start",alignToTop:!0})},children:t.id.charAt(0).toUpperCase()+t.id.slice(1)},t.id))})}var l=n(17414),d=n(62594);let h=e=>{let{children:t,title:n,seoDescription:c}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.A,{title:n,seoDescription:c}),(0,i.jsx)(r.Z,{}),(0,i.jsx)("div",{className:"wrapper",children:t}),(0,i.jsx)(d.Z,{}),(0,i.jsx)("div",{className:"wrapper",children:(0,i.jsx)(o.Z,{})}),(0,i.jsx)(s,{})]})}},49871:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var i=n(85893);n(67294);var r=n(95887),o=n(28843),c=n(41664),a=n.n(c);let p=o.c.filter(e=>"general"===e.family).map(e=>e.logo);function s(e){let{chartLogo:t,caption:n,link:o,isAvailable:c,size:s}=e,d=p.includes(t),h=c?"opacity-100":"opacity-20";return(0,i.jsx)(a(),{href:c?o:"subscribe",className:"no-underline",children:(0,i.jsxs)("div",{className:"flex flex-col items-center",children:[(0,i.jsxs)("div",{style:{width:s,height:s},className:"relative mr-2 rounded-full "+h+" "+(c?"cursor-pointer":"cursor-not-allowed"),children:[(0,i.jsx)("div",{className:"absolute",children:(0,i.jsx)(r.Z,{chartLogo:t,size:s})}),d?(0,i.jsx)("div",{className:"absolute opacity-0 hover:opacity-60 flex items-center justify-center w-full h-full z-30",children:(0,i.jsx)(l,{size:s})}):(0,i.jsx)("div",{style:{backgroundColor:"var(--react-gallery)"},className:"opacity-0 hover:opacity-60 flex items-center justify-center w-full h-full rounded-full  z-30",children:(0,i.jsx)("span",{className:"text-white text-4xl",children:"+"})})]}),(0,i.jsx)("p",{className:"font-light text-sm text-gray-600 "+h,children:n})]})})}let l=e=>{let{size:t}=e;return(0,i.jsx)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 100 100",className:"fill-current text-purple-800",children:(0,i.jsx)("path",{d:"M50,0 L100,20 L100,80 L50,100 L0,80 L0,20 Z"})})}},66717:function(e,t,n){"use strict";n.d(t,{U:function(){return r}});var i=n(85893);let r=e=>{let{title:t,children:n}=e;return(0,i.jsxs)("details",{className:"bg-gray-50 py-2 px-4 rounded-md my-2",children:[(0,i.jsx)("summary",{className:"cursor-pointer",children:t}),(0,i.jsx)("div",{className:"pt-4",children:n})]})}},28617:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return z}});var i=n(85893),r=n(67294),o=n(80153),c=n(43710),a=n(61651),p=n(3572),s=n(81122),l=n(41664),d=n.n(l),h=n(44741);let u=[{country:"Afghanistan",continent:"Asia",lifeExp:43.828,pop:31889923,gdpPercap:974.5803384},{country:"Albania",continent:"Europe",lifeExp:76.423,pop:3600523,gdpPercap:5937.029526},{country:"Algeria",continent:"Africa",lifeExp:72.301,pop:33333216,gdpPercap:6223.367465},{country:"Angola",continent:"Africa",lifeExp:42.731,pop:12420476,gdpPercap:4797.231267},{country:"Argentina",continent:"Americas",lifeExp:75.32,pop:40301927,gdpPercap:12779.37964},{country:"Australia",continent:"Oceania",lifeExp:81.235,pop:20434176,gdpPercap:34435.36744},{country:"Austria",continent:"Europe",lifeExp:79.829,pop:8199783,gdpPercap:36126.4927},{country:"Bahrain",continent:"Asia",lifeExp:75.635,pop:708573,gdpPercap:29796.04834},{country:"Bangladesh",continent:"Asia",lifeExp:64.062,pop:150448339,gdpPercap:1391.253792},{country:"Belgium",continent:"Europe",lifeExp:79.441,pop:10392226,gdpPercap:33692.60508},{country:"Benin",continent:"Africa",lifeExp:56.728,pop:8078314,gdpPercap:1441.284873},{country:"Bolivia",continent:"Americas",lifeExp:65.554,pop:9119152,gdpPercap:3822.137084},{country:"Bosnia and Herzegovina",continent:"Europe",lifeExp:74.852,pop:4552198,gdpPercap:7446.298803},{country:"Botswana",continent:"Africa",lifeExp:50.728,pop:1639131,gdpPercap:12569.85177},{country:"Brazil",continent:"Americas",lifeExp:72.39,pop:190010647,gdpPercap:9065.800825},{country:"Bulgaria",continent:"Europe",lifeExp:73.005,pop:7322858,gdpPercap:10680.79282},{country:"Burkina Faso",continent:"Africa",lifeExp:52.295,pop:14326203,gdpPercap:1217.032994},{country:"Burundi",continent:"Africa",lifeExp:49.58,pop:8390505,gdpPercap:430.0706916},{country:"Cambodia",continent:"Asia",lifeExp:59.723,pop:14131858,gdpPercap:1713.778686},{country:"Cameroon",continent:"Africa",lifeExp:50.43,pop:17696293,gdpPercap:2042.09524},{country:"Canada",continent:"Americas",lifeExp:80.653,pop:33390141,gdpPercap:36319.23501},{country:"Central African Republic",continent:"Africa",lifeExp:44.741,pop:4369038,gdpPercap:706.016537},{country:"Chad",continent:"Africa",lifeExp:50.651,pop:10238807,gdpPercap:1704.063724},{country:"Chile",continent:"Americas",lifeExp:78.553,pop:16284741,gdpPercap:13171.63885},{country:"China",continent:"Asia",lifeExp:72.961,pop:1318683096,gdpPercap:4959.114854},{country:"Colombia",continent:"Americas",lifeExp:72.889,pop:44227550,gdpPercap:7006.580419},{country:"Comoros",continent:"Africa",lifeExp:65.152,pop:710960,gdpPercap:986.1478792},{country:"Congo, Dem. Rep.",continent:"Africa",lifeExp:46.462,pop:64606759,gdpPercap:277.5518587},{country:"Congo, Rep.",continent:"Africa",lifeExp:55.322,pop:3800610,gdpPercap:3632.557798},{country:"Costa Rica",continent:"Americas",lifeExp:78.782,pop:4133884,gdpPercap:9645.06142},{country:"Cote d'Ivoire",continent:"Africa",lifeExp:48.328,pop:18013409,gdpPercap:1544.750112},{country:"Croatia",continent:"Europe",lifeExp:75.748,pop:4493312,gdpPercap:14619.22272},{country:"Cuba",continent:"Americas",lifeExp:78.273,pop:11416987,gdpPercap:8948.102923},{country:"Czech Republic",continent:"Europe",lifeExp:76.486,pop:10228744,gdpPercap:22833.30851},{country:"Denmark",continent:"Europe",lifeExp:78.332,pop:5468120,gdpPercap:35278.41874},{country:"Djibouti",continent:"Africa",lifeExp:54.791,pop:496374,gdpPercap:2082.481567},{country:"Dominican Republic",continent:"Americas",lifeExp:72.235,pop:9319622,gdpPercap:6025.374752},{country:"Ecuador",continent:"Americas",lifeExp:74.994,pop:13755680,gdpPercap:6873.262326},{country:"Egypt",continent:"Africa",lifeExp:71.338,pop:80264543,gdpPercap:5581.180998},{country:"El Salvador",continent:"Americas",lifeExp:71.878,pop:6939688,gdpPercap:5728.353514},{country:"Equatorial Guinea",continent:"Africa",lifeExp:51.579,pop:551201,gdpPercap:12154.08975},{country:"Eritrea",continent:"Africa",lifeExp:58.04,pop:4906585,gdpPercap:641.3695236},{country:"Ethiopia",continent:"Africa",lifeExp:52.947,pop:76511887,gdpPercap:690.8055759},{country:"Finland",continent:"Europe",lifeExp:79.313,pop:5238460,gdpPercap:33207.0844},{country:"France",continent:"Europe",lifeExp:80.657,pop:61083916,gdpPercap:30470.0167},{country:"Gabon",continent:"Africa",lifeExp:56.735,pop:1454867,gdpPercap:13206.48452},{country:"Gambia",continent:"Africa",lifeExp:59.448,pop:1688359,gdpPercap:752.7497265},{country:"Germany",continent:"Europe",lifeExp:79.406,pop:82400996,gdpPercap:32170.37442},{country:"Ghana",continent:"Africa",lifeExp:60.022,pop:22873338,gdpPercap:1327.60891},{country:"Greece",continent:"Europe",lifeExp:79.483,pop:10706290,gdpPercap:27538.41188},{country:"Guatemala",continent:"Americas",lifeExp:70.259,pop:12572928,gdpPercap:5186.050003},{country:"Guinea",continent:"Africa",lifeExp:56.007,pop:9947814,gdpPercap:942.6542111},{country:"Guinea-Bissau",continent:"Africa",lifeExp:46.388,pop:1472041,gdpPercap:579.231743},{country:"Haiti",continent:"Americas",lifeExp:60.916,pop:8502814,gdpPercap:1201.637154},{country:"Honduras",continent:"Americas",lifeExp:70.198,pop:7483763,gdpPercap:3548.330846},{country:"Hong Kong, China",continent:"Asia",lifeExp:82.208,pop:6980412,gdpPercap:39724.97867},{country:"Hungary",continent:"Europe",lifeExp:73.338,pop:9956108,gdpPercap:18008.94444},{country:"Iceland",continent:"Europe",lifeExp:81.757,pop:301931,gdpPercap:36180.78919},{country:"India",continent:"Asia",lifeExp:64.698,pop:1110396331,gdpPercap:2452.210407},{country:"Indonesia",continent:"Asia",lifeExp:70.65,pop:223547e3,gdpPercap:3540.651564},{country:"Iran",continent:"Asia",lifeExp:70.964,pop:69453570,gdpPercap:11605.71449},{country:"Iraq",continent:"Asia",lifeExp:59.545,pop:27499638,gdpPercap:4471.061906},{country:"Ireland",continent:"Europe",lifeExp:78.885,pop:4109086,gdpPercap:40675.99635},{country:"Israel",continent:"Asia",lifeExp:80.745,pop:6426679,gdpPercap:25523.2771},{country:"Italy",continent:"Europe",lifeExp:80.546,pop:58147733,gdpPercap:28569.7197},{country:"Jamaica",continent:"Americas",lifeExp:72.567,pop:2780132,gdpPercap:7320.880262},{country:"Japan",continent:"Asia",lifeExp:82.603,pop:127467972,gdpPercap:31656.06806},{country:"Jordan",continent:"Asia",lifeExp:72.535,pop:6053193,gdpPercap:4519.461171},{country:"Kenya",continent:"Africa",lifeExp:54.11,pop:35610177,gdpPercap:1463.249282},{country:"Korea, Dem. Rep.",continent:"Asia",lifeExp:67.297,pop:23301725,gdpPercap:1593.06548},{country:"Korea, Rep.",continent:"Asia",lifeExp:78.623,pop:49044790,gdpPercap:23348.13973},{country:"Kuwait",continent:"Asia",lifeExp:77.588,pop:2505559,gdpPercap:47306.98978},{country:"Lebanon",continent:"Asia",lifeExp:71.993,pop:3921278,gdpPercap:10461.05868},{country:"Lesotho",continent:"Africa",lifeExp:42.592,pop:2012649,gdpPercap:1569.331442},{country:"Liberia",continent:"Africa",lifeExp:45.678,pop:3193942,gdpPercap:414.5073415},{country:"Libya",continent:"Africa",lifeExp:73.952,pop:6036914,gdpPercap:12057.49928},{country:"Madagascar",continent:"Africa",lifeExp:59.443,pop:19167654,gdpPercap:1044.770126},{country:"Malawi",continent:"Africa",lifeExp:48.303,pop:13327079,gdpPercap:759.3499101},{country:"Malaysia",continent:"Asia",lifeExp:74.241,pop:24821286,gdpPercap:12451.6558},{country:"Mali",continent:"Africa",lifeExp:54.467,pop:12031795,gdpPercap:1042.581557},{country:"Mauritania",continent:"Africa",lifeExp:64.164,pop:3270065,gdpPercap:1803.151496},{country:"Mauritius",continent:"Africa",lifeExp:72.801,pop:1250882,gdpPercap:10956.99112},{country:"Mexico",continent:"Americas",lifeExp:76.195,pop:108700891,gdpPercap:11977.57496},{country:"Mongolia",continent:"Asia",lifeExp:66.803,pop:2874127,gdpPercap:3095.772271},{country:"Montenegro",continent:"Europe",lifeExp:74.543,pop:684736,gdpPercap:9253.896111},{country:"Morocco",continent:"Africa",lifeExp:71.164,pop:33757175,gdpPercap:3820.17523},{country:"Mozambique",continent:"Africa",lifeExp:42.082,pop:19951656,gdpPercap:823.6856205},{country:"Myanmar",continent:"Asia",lifeExp:62.069,pop:47761980,gdpPercap:944},{country:"Namibia",continent:"Africa",lifeExp:52.906,pop:2055080,gdpPercap:4811.060429},{country:"Nepal",continent:"Asia",lifeExp:63.785,pop:28901790,gdpPercap:1091.359778},{country:"Netherlands",continent:"Europe",lifeExp:79.762,pop:16570613,gdpPercap:36797.93332},{country:"New Zealand",continent:"Oceania",lifeExp:80.204,pop:4115771,gdpPercap:25185.00911},{country:"Nicaragua",continent:"Americas",lifeExp:72.899,pop:5675356,gdpPercap:2749.320965},{country:"Niger",continent:"Africa",lifeExp:56.867,pop:12894865,gdpPercap:619.6768924},{country:"Nigeria",continent:"Africa",lifeExp:46.859,pop:135031164,gdpPercap:2013.977305},{country:"Norway",continent:"Europe",lifeExp:80.196,pop:4627926,gdpPercap:49357.19017},{country:"Oman",continent:"Asia",lifeExp:75.64,pop:3204897,gdpPercap:22316.19287},{country:"Pakistan",continent:"Asia",lifeExp:65.483,pop:169270617,gdpPercap:2605.94758},{country:"Panama",continent:"Americas",lifeExp:75.537,pop:3242173,gdpPercap:9809.185636},{country:"Paraguay",continent:"Americas",lifeExp:71.752,pop:6667147,gdpPercap:4172.838464},{country:"Peru",continent:"Americas",lifeExp:71.421,pop:28674757,gdpPercap:7408.905561},{country:"Philippines",continent:"Asia",lifeExp:71.688,pop:91077287,gdpPercap:3190.481016},{country:"Poland",continent:"Europe",lifeExp:75.563,pop:38518241,gdpPercap:15389.92468},{country:"Portugal",continent:"Europe",lifeExp:78.098,pop:10642836,gdpPercap:20509.64777},{country:"Puerto Rico",continent:"Americas",lifeExp:78.746,pop:3942491,gdpPercap:19328.70901},{country:"Reunion",continent:"Africa",lifeExp:76.442,pop:798094,gdpPercap:7670.122558},{country:"Romania",continent:"Europe",lifeExp:72.476,pop:22276056,gdpPercap:10808.47561},{country:"Rwanda",continent:"Africa",lifeExp:46.242,pop:8860588,gdpPercap:863.0884639},{country:"Sao Tome and Principe",continent:"Africa",lifeExp:65.528,pop:199579,gdpPercap:1598.435089},{country:"Saudi Arabia",continent:"Asia",lifeExp:72.777,pop:27601038,gdpPercap:21654.83194},{country:"Senegal",continent:"Africa",lifeExp:63.062,pop:12267493,gdpPercap:1712.472136},{country:"Serbia",continent:"Europe",lifeExp:74.002,pop:10150265,gdpPercap:9786.534714},{country:"Sierra Leone",continent:"Africa",lifeExp:42.568,pop:6144562,gdpPercap:862.5407561},{country:"Singapore",continent:"Asia",lifeExp:79.972,pop:4553009,gdpPercap:47143.17964},{country:"Slovak Republic",continent:"Europe",lifeExp:74.663,pop:5447502,gdpPercap:18678.31435},{country:"Slovenia",continent:"Europe",lifeExp:77.926,pop:2009245,gdpPercap:25768.25759},{country:"Somalia",continent:"Africa",lifeExp:48.159,pop:9118773,gdpPercap:926.1410683},{country:"South Africa",continent:"Africa",lifeExp:49.339,pop:43997828,gdpPercap:9269.657808},{country:"Spain",continent:"Europe",lifeExp:80.941,pop:40448191,gdpPercap:28821.0637},{country:"Sri Lanka",continent:"Asia",lifeExp:72.396,pop:20378239,gdpPercap:3970.095407},{country:"Sudan",continent:"Africa",lifeExp:58.556,pop:42292929,gdpPercap:2602.394995},{country:"Swaziland",continent:"Africa",lifeExp:39.613,pop:1133066,gdpPercap:4513.480643},{country:"Sweden",continent:"Europe",lifeExp:80.884,pop:9031088,gdpPercap:33859.74835},{country:"Switzerland",continent:"Europe",lifeExp:81.701,pop:7554661,gdpPercap:37506.41907},{country:"Syria",continent:"Asia",lifeExp:74.143,pop:19314747,gdpPercap:4184.548089},{country:"Taiwan",continent:"Asia",lifeExp:78.4,pop:23174294,gdpPercap:28718.27684},{country:"Tanzania",continent:"Africa",lifeExp:52.517,pop:38139640,gdpPercap:1107.482182},{country:"Thailand",continent:"Asia",lifeExp:70.616,pop:65068149,gdpPercap:7458.396327},{country:"Togo",continent:"Africa",lifeExp:58.42,pop:5701579,gdpPercap:882.9699438},{country:"Trinidad and Tobago",continent:"Americas",lifeExp:69.819,pop:1056608,gdpPercap:18008.50924},{country:"Tunisia",continent:"Africa",lifeExp:73.923,pop:10276158,gdpPercap:7092.923025},{country:"Turkey",continent:"Europe",lifeExp:71.777,pop:71158647,gdpPercap:8458.276384},{country:"Uganda",continent:"Africa",lifeExp:51.542,pop:29170398,gdpPercap:1056.380121},{country:"United Kingdom",continent:"Europe",lifeExp:79.425,pop:60776238,gdpPercap:33203.26128},{country:"United ys",continent:"Americas",lifeExp:78.242,pop:301139947,gdpPercap:42951.65309},{country:"Uruguay",continent:"Americas",lifeExp:76.384,pop:3447496,gdpPercap:10611.46299},{country:"Venezuela",continent:"Americas",lifeExp:73.747,pop:26084662,gdpPercap:11415.80569},{country:"Vietnam",continent:"Asia",lifeExp:74.249,pop:85262356,gdpPercap:2441.576404},{country:"West Bank and Gaza",continent:"Asia",lifeExp:73.422,pop:4018332,gdpPercap:3025.349798},{country:"Yemen, Rep.",continent:"Asia",lifeExp:62.698,pop:22211743,gdpPercap:2280.769906},{country:"Zambia",continent:"Africa",lifeExp:42.384,pop:11746035,gdpPercap:1271.211593},{country:"Zimbabwe",continent:"Africa",lifeExp:43.487,pop:12311143,gdpPercap:469.7092981}];var x=n(43950);let f=e=>{let{scale:t,tickNumber:n}=e,r=t.ticks(n),o=r[r.length-1],c=2*t(o),a=r.map((e,n)=>{let r=c/2,o=c-2*t(e),a=c-t(e);return(0,i.jsxs)("g",{children:[(0,i.jsx)("circle",{cx:r,cy:a,r:t(e),fill:"none",stroke:"black"}),(0,i.jsx)("line",{x1:r,x2:r+50,y1:o,y2:o,stroke:"black",strokeDasharray:"2,2"}),(0,i.jsx)("text",{x:r+50+4,y:o,fontSize:10,alignmentBaseline:"middle",children:e})]},n)});return(0,i.jsx)("svg",{width:"200",height:"100",overflow:"visible",children:a})},g=e=>{let{yScale:t,pixelsPerTick:n,width:o}=e,c=t.range(),a=(0,r.useMemo)(()=>{let e=c[0]-c[1];return t.ticks(Math.floor(e/n)).map(e=>({value:e,yOffset:t(e)}))},[t]);return(0,i.jsx)(i.Fragment,{children:a.map(e=>{let{value:t,yOffset:n}=e;return(0,i.jsxs)("g",{transform:"translate(0, ".concat(n,")"),shapeRendering:"crispEdges",children:[(0,i.jsx)("line",{x1:-10,x2:o+10,stroke:"#D2D7D3",strokeWidth:.5}),(0,i.jsx)("text",{style:{fontSize:"10px",textAnchor:"middle",transform:"translateX(-20px)",fill:"#D2D7D3"},children:t},t)]},t)})})},m=e=>{let{xScale:t,pixelsPerTick:n,height:o}=e,c=t.range(),a=(0,r.useMemo)(()=>{let e=c[1]-c[0];return t.ticks(Math.floor(e/n)).map(e=>({value:e,xOffset:t(e)}))},[t]);return(0,i.jsx)(i.Fragment,{children:a.map(e=>{let{value:t,xOffset:n}=e;return(0,i.jsxs)("g",{transform:"translate(".concat(n,", 0)"),shapeRendering:"crispEdges",children:[(0,i.jsx)("line",{y1:10,y2:-o-10,stroke:"#D2D7D3",strokeWidth:.5}),(0,i.jsx)("text",{style:{fontSize:"10px",textAnchor:"middle",transform:"translateY(20px)",fill:"#D2D7D3"},children:t},t)]},t)})})},b={top:30,right:30,bottom:80,left:100},y=e=>{let{width:t,height:n,data:o}=e,c=t-b.right-b.left,a=n-b.top-b.bottom,p=(0,r.useMemo)(()=>{let[e,t]=x.Wem(o.map(e=>e.lifeExp));return x.BYU().domain([e,t]).range([a,0]).nice()},[o,n]),s=(0,r.useMemo)(()=>{let[e,t]=x.Wem(o.map(e=>e.gdpPercap));return x.BYU().domain([e,t]).range([0,c]).nice()},[o,t]),l=o.map(e=>e.continent).filter((e,t,n)=>n.indexOf(e)==t),d=x.PKp().domain(l).range(["#e0ac2b","#e85252","#6689c6","#9a6fb0","#a53253"]),h=(0,r.useMemo)(()=>{let[e,t]=x.Wem(o.map(e=>e.pop));return x.PUr().domain([e,t]).range([4,40])},[o,t]),u=o.sort((e,t)=>t.pop-e.pop).map((e,t)=>(0,i.jsx)("circle",{r:h(e.pop),cx:s(e.gdpPercap),cy:p(e.lifeExp),opacity:1,stroke:d(e.continent),fill:d(e.continent),fillOpacity:.4,strokeWidth:1},t));return(0,i.jsxs)("div",{style:{position:"relative",width:t,height:n},children:[(0,i.jsx)("svg",{width:t,height:n,children:(0,i.jsxs)("g",{width:c,height:a,transform:"translate(".concat([b.left,b.top].join(","),")"),children:[(0,i.jsx)(g,{yScale:p,pixelsPerTick:40,width:c}),(0,i.jsx)("g",{transform:"translate(0, ".concat(a,")"),children:(0,i.jsx)(m,{xScale:s,pixelsPerTick:40,height:a})}),u]})}),(0,i.jsx)("div",{style:{position:"absolute",right:0,bottom:100},children:(0,i.jsx)(f,{scale:h,tickNumber:4})})]})},j=e=>{let{width:t=700,height:n=400}=e;return(0,i.jsx)(y,{data:u,width:t,height:n})};var E=n(59942),P=n(49975),A=n(32428),w=n(91161),v=n(66717),k=n(2274),C=n(52450);let N=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("p",{children:["A ",(0,i.jsx)("a",{href:"https://www.data-to-viz.com/graph/bubble.html",children:"bubble plot"})," ","is an extension of a ",(0,i.jsx)(d(),{href:"/scatter-plot",children:"scatterplot"}),", where each circle has its size proportional to a numeric value. This page is a step-by-step guide on how to build your own bubble chart for the web, using ",(0,i.jsx)("a",{href:"https://reactjs.org/",children:"React"})," and"," ",(0,i.jsx)("a",{href:"https://d3-graph-gallery.com/histogram",children:"D3.js"}),"."]}),(0,i.jsxs)("p",{children:["This page focuses on the implementation of features that are"," ",(0,i.jsx)("b",{children:"different from the scatterplot"})," that has its"," ",(0,i.jsx)(d(),{href:"/scatter-plot",children:"dedicated section"}),". It describes how the"," ",(0,i.jsx)("b",{children:"dataset"})," differs, how the ",(0,i.jsx)("b",{children:"circle size"})," can be mapped to a numeric value, and how to explicit it using a ",(0,i.jsx)("b",{children:"legend"}),". Last but not least it explains how to add ",(0,i.jsx)("b",{children:"interactivity"}),": hover effect, tooltip, and dataset transition. \uD83D\uDE47‍♂️."]})]});function z(){return(0,i.jsxs)(o.A,{title:"Bubble plot with React",seoDescription:"How to build a bubble plot with React and D3.js. A set of re-usable components",children:[(0,i.jsx)(c.Z,{title:"Bubble plot",description:N,chartType:"bubble"}),(0,i.jsx)("h2",{id:"data",children:"The Data"})," ",(0,i.jsxs)("p",{children:["The dataset used to build a bubble plot is usually an array of objects where each object is a data point. For each object, at least"," ",(0,i.jsx)("b",{children:"3 properties"})," are required."]}),(0,i.jsxs)("p",{children:["Two properties are used for the ",(0,i.jsx)("b",{children:"X"})," and ",(0,i.jsx)("b",{children:"Y"})," axis, the third one is used for the circle ",(0,i.jsx)("b",{children:"size"}),"."]}),(0,i.jsxs)("p",{children:["Note that you can add more properties to the object. For instance, a"," ",(0,i.jsx)("code",{children:"name"})," can be displayed in the tooltip, and a"," ",(0,i.jsx)("code",{children:"group"})," can be used to color the bubbles."]}),(0,i.jsx)(p.d,{code:S}),(0,i.jsxs)("p",{children:[(0,i.jsx)("u",{children:"Note"}),": this post is mainly based on the"," ",(0,i.jsx)("a",{href:"https://www.data-to-viz.com/story/ThreeNum.html",children:"gapminder"})," ","dataset that provides some info like the life expectancy and the population for every country."]}),(0,i.jsx)("h2",{id:"scatter plot",children:"Extending the scatter plot"}),(0,i.jsxs)("p",{children:["A bubble chart is just an extension of a"," ",(0,i.jsx)(d(),{href:"/scatter-plot",children:"scatter plot"}),". The only difference is that a third numeric variable is represented, mapped to the"," ",(0,i.jsx)("b",{children:"circle size"}),"."]}),(0,i.jsxs)("p",{children:["As a result, please start by visiting the dedicated scatter plot"," ",(0,i.jsx)(d(),{href:"/scatter-plot",children:"page"})," that explains how to draw"," ",(0,i.jsx)(d(),{href:"/scatter-plot#scales%20and%20axes",children:"axes"})," and"," ",(0,i.jsx)(d(),{href:"/scatter-plot#circles",children:"circles"}),", and shows how to add basic interactions like"," ",(0,i.jsx)(d(),{href:"/scatter-plot#hover%20effect",children:"hover effects"})," and"," ",(0,i.jsx)(d(),{href:"/scatter-plot#tooltip",children:"tooltips"}),"."]}),(0,i.jsxs)(E.E,{children:[(0,i.jsx)(P.X,{link:"scatter-plot#scales%20and%20axes",title:"Scales and axes",description:(0,i.jsx)("p",{children:"How to map your data in a 2d space, and how to draw the axes"}),img:"axis-basic-demo.png",alt:"Picture of an empty chart area with X and Y axes"}),(0,i.jsx)(P.X,{link:"scatter-plot#circles",title:"Basic scatter plot",description:(0,i.jsx)("p",{children:"Add circles to get a basic scatter plot"}),img:"scatterplot-most-basic.png",alt:"Most basic scatterplot made with react and d3"}),(0,i.jsx)(P.X,{link:"scatter-plot#tooltip",title:"Add tooltip",description:(0,i.jsx)("p",{children:"Get more details about each datapoint by adding a tooltip on hover"}),img:"scatterplot-tooltip.png",alt:"Scatterplot with tooltip made with react and d3"}),(0,i.jsx)(P.X,{link:"scatter-plot#hover%20effect",title:"Add a hover effect",description:(0,i.jsx)("p",{children:"Highlight a specific group on hover"}),img:"scatterplot-hover-effect.png",alt:"Scatterplot with hover effect made with react and d3"}),(0,i.jsx)(P.X,{link:"scatter-plot#real%20life",title:"Real life use-case",description:(0,i.jsx)("p",{children:"Reproduction of a data wrapper chart representing countries CO2 data"}),img:"scatterplot-co2.png",alt:"Real life example of a scatterplot made with react and d3"})]}),(0,i.jsx)("p",{className:"mt-4",children:"Once you understand those fundamental concepts, you're ready to browse the following examples to build a bubble chart."}),(0,i.jsx)("h2",{id:"bubble",children:"Control the circle sizes to make bubbles"}),(0,i.jsxs)("p",{children:["We need to make the circle size ",(0,i.jsx)("b",{children:"proportional"})," to a numeric value. Note that it is the ",(0,i.jsx)("b",{children:"area"})," that must be proportional,"," ",(0,i.jsx)("a",{href:"https://www.data-to-viz.com/caveat/radius_or_area.html",children:"not the radius"}),"."]}),(0,i.jsxs)("p",{children:["To do so, d3.js offers a ",(0,i.jsx)("code",{children:"scaleSqrt()"})," function that constructs a new continuous ",(0,i.jsx)("b",{children:"power scale"}),". That's the transformation we need. Building the scale looks like this:"]}),(0,i.jsx)(p.d,{code:B}),(0,i.jsxs)("p",{children:["This scale provides the radius that we must use for each circle based on its numeric value. We can use it in the ",(0,i.jsx)("code",{children:"r"})," attribute of each"," ",(0,i.jsx)("code",{children:"circle"}),"like this:"]}),(0,i.jsx)(p.d,{code:D}),(0,i.jsxs)("p",{children:["Note that a bubble chart often has ",(0,i.jsx)("b",{children:"circle overlaps"}),". It's strongly advised to use ",(0,i.jsx)("b",{children:"transparency"})," and to ",(0,i.jsx)("b",{children:"sort"})," the data: draw the big bubbles below and the small ones on top."]}),(0,i.jsx)(s.$,{VizComponent:h.c,vizName:"BubblePlotBasic",maxWidth:600,height:500,caption:"A clean bubble chart built with d3.js in a react context. A color scale is used to represent a categorical variable."}),(0,i.jsx)("div",{className:"my-10",children:(0,i.jsxs)("blockquote",{children:[(0,i.jsx)("b",{children:"Note"}),": The above example uses the ",(0,i.jsx)("b",{children:"d3.js imperative style"})," ","to build the axes. This can also be done building your own axis component like"," ",(0,i.jsx)(d(),{href:"/scatter-plot#scales%20and%20axes",children:"here"}),". I'll write more about this in the near ",(0,i.jsx)(d(),{href:"/subscribe",children:"future"}),"."]})}),(0,i.jsxs)("p",{children:["This is starting to look not too bad, but we need a ",(0,i.jsx)("b",{children:"legend"})," here, to understand what the size and color of each circle mean."]}),(0,i.jsx)("h2",{id:"legend",children:"Adding a legend"}),(0,i.jsxs)("p",{children:["There are"," ",(0,i.jsx)("a",{href:"https://d3-graph-gallery.com/graph/custom_legend.html",children:"many different ways"})," ","to add a legend to a d3.js graph. What we mainly need here is to make sense of the ",(0,i.jsx)("b",{children:"bubble size"}),". I suggest using a set of ",(0,i.jsx)("b",{children:"nested"})," ","bubbles, showing a few of the bubble sizes used on the chart with their respective values."]}),(0,i.jsx)(s.$,{VizComponent:w.Y,vizName:"BubbleLegend",maxWidth:300,height:300,caption:"A legend to make sense of circle size, based on a d3 scale."}),(0,i.jsxs)("p",{children:["This legend is implemented in a ",(0,i.jsx)("code",{children:"BubbleLegend"})," component that expects 2 props:"," "]}),(0,i.jsxs)("ul",{children:[(0,i.jsxs)("li",{children:[(0,i.jsx)("code",{children:"scale"}),": the size scale that we described"," ",(0,i.jsx)("a",{href:"#bubble",children:"above"}),", built with the ",(0,i.jsx)("code",{children:"scaleSqrt"})," ","function."]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("code",{children:"tickNumber"}),": the number of circles to show on the legend."]})]}),(0,i.jsxs)("p",{children:["Note that ",(0,i.jsx)("code",{children:"tickNumber"})," is a target. The legend component uses the ",(0,i.jsx)("code",{children:"tick()"})," function with this value, which returns a smart number of circle to approximate the goal while keeping some nice, smart values."]}),(0,i.jsx)("p",{children:"You can check the complete implementation of the legend here:"}),(0,i.jsx)(v.U,{title:(0,i.jsxs)("span",{children:[(0,i.jsx)("code",{children:"BubbleLegend"}),": a component to build a legend for circle sizes"]}),children:(0,i.jsx)(p.d,{code:T})}),(0,i.jsxs)("p",{children:["It's important to note that the component does ",(0,i.jsx)("b",{children:"not"})," expect any dimension as prop. The ",(0,i.jsx)("code",{children:"width"})," and ",(0,i.jsx)("code",{children:"height"})," of the SVG element that is created will be computed from the ",(0,i.jsx)("code",{children:"scale"})," ","that is provided."]}),(0,i.jsx)("p",{children:"As a result, you only need to think about the position of the legend on your chart. Here is an example of adding it at the bottom right of the chart."}),(0,i.jsx)(s.$,{VizComponent:j,vizName:"BubblePlotLegend",maxWidth:600,height:500,caption:"Adding a legend to make sense of the bubble size. Legend is hand made, adding svg shapes with React."}),(0,i.jsx)("h2",{id:"transition",children:"Smooth dataset transition"}),(0,i.jsxs)("p",{children:["How can we ",(0,i.jsx)("b",{children:"smoothly animate"})," the transition between 2 datasets on a bubble chart? The chart used in this blog post can be drawn for several different years. You can use the select button on top to select the year, and the bubbles will ",(0,i.jsx)("b",{children:"animate"})," to their new position."]}),(0,i.jsxs)("p",{children:["This is possible thanks to the"," ",(0,i.jsx)("a",{href:"https://react-spring.dev/",children:"react spring"})," library. Basically, instead of rendering usual ",(0,i.jsx)("code",{children:"circle"})," elements, the library provides an ",(0,i.jsx)("code",{children:"animated.circle"})," element, that is linked to a"," ",(0,i.jsx)("code",{children:"useSpring"}),"hook."]}),(0,i.jsxs)("p",{children:["This is what the ",(0,i.jsx)("code",{children:"Circle"})," component I use looks like:"]}),(0,i.jsx)(v.U,{startOpen:!1,title:(0,i.jsxs)("span",{children:[(0,i.jsx)("code",{children:"Circle"}),": a component that animates the transition of a"," ",(0,i.jsx)("code",{children:"circle"})]}),children:(0,i.jsx)(p.d,{code:I})}),(0,i.jsx)(s.$,{VizComponent:k.t,vizName:"BubblePlotDatasetTransition",maxWidth:600,height:500,caption:"A bubble chart component that smoothly animates changes between datasets."}),(0,i.jsxs)("p",{children:[(0,i.jsx)("b",{children:"Animation"})," in dataviz using React is a ",(0,i.jsx)("b",{children:"big"})," topic. It's impossible to go in-depth here! I will publish a dedicated blog post on the topic soon. Please ",(0,i.jsx)(d(),{href:"subscribe",children:"subscribe"})," to the newsletter if you want to be notified."]}),(0,i.jsx)("h2",{id:"real life",children:"Real-life application"}),(0,i.jsx)("p",{children:"Let's apply the concepts learned above to a real-life example."}),(0,i.jsxs)("p",{children:["I like this scatterplot originally published on the data wrapper"," ",(0,i.jsx)("a",{href:"https://blog.datawrapper.de/climate-risk-readiness-responsibility/",children:"blog"}),". It shows a strong correlation between vulnerability to climate change and CO2 emissions."]}),(0,i.jsx)("br",{}),(0,i.jsx)("p",{children:"The chart has several features that are interesting to reproduce from a technical point of view:"}),(0,i.jsxs)("ul",{children:[(0,i.jsxs)("li",{children:["Custom ",(0,i.jsx)("b",{children:"annotation"}),": only a fraction of the country names are written"]}),(0,i.jsx)("li",{children:"Hover effect: the hovered country is highlighted with a black stroke. After a short delay, countries of other groups are dimmed. Note that the effect is triggered once the mouse approaches the marker, no need to be perfectly on top."}),(0,i.jsx)("li",{children:"Tooltip: highly customized and linked to the mouse position"})]}),(0,i.jsx)(s.$,{VizComponent:A.z,vizName:"ScatterplotClimateCrisis",maxWidth:700,height:900,caption:(0,i.jsxs)("span",{children:["Reproduction of a chart originally published by"," ",(0,i.jsx)("a",{href:"https://blog.datawrapper.de/climate-risk-readiness-responsibility/",children:"Data Wrapper"})," ","using react and d3.js."]})}),(0,i.jsx)("h2",{id:"variations",children:"Variations"}),(0,i.jsxs)("p",{children:["Once you've understood how to build a basic bubble chart with d3 and react, it opens an infinite world of ",(0,i.jsx)("b",{children:"customization"}),". Here are a few examples using the same concepts."]}),(0,i.jsx)("p",{children:"Click on the overview below to get details and code."}),(0,i.jsx)("br",{}),(0,i.jsx)(C.Z,{images:["circle-pack-d3-force.png"]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("br",{})," ",(0,i.jsx)("br",{})]}),(0,i.jsx)("div",{className:"full-bleed border-t h-0 bg-gray-100 mb-3 mt-24"}),(0,i.jsx)(a.Z,{chartFamily:"correlation"}),(0,i.jsx)("div",{className:"mt-20"})]})}let S='\nconst data = [\n  {\n    "x": 43.828,\n    "y": 31889923,\n    "size": 974.5803384\n    "name": "Afghanistan",\n    "group": "Asia",\n  },\n  {\n    "x": 76.423,\n    "y": 3600523,\n    "size": 5937.029526\n    "name": "Albania",\n    "group": "Europe",\n  },\n  ...\n]\n'.trim(),T='\ntype BubbleLegendProps = {\n  scale: d3.ScaleLinear<number, number, never>;\n  tickNumber: number;\n};\n\nexport const BubbleLegend = ({ scale, tickNumber }: BubbleLegendProps) => {\n  const ticks = scale.ticks(tickNumber);\n  const maxValue = ticks[ticks.length - 1];\n\n  const diameter = scale(maxValue) * 2; // diameter of the biggest circle\n\n  const dashWidth = diameter / 2 + 10;\n\n  const allCircles = ticks.map((tick, i) => {\n    const xCenter = diameter / 2;\n    const yCircleTop = diameter - 2 * scale(tick);\n    const yCircleCenter = diameter - scale(tick);\n\n    return (\n      <g key={i}>\n        <circle\n          cx={xCenter}\n          cy={yCircleCenter}\n          r={scale(tick)}\n          fill="none"\n          stroke="black"\n        />\n        <line\n          x1={xCenter}\n          x2={xCenter + dashWidth}\n          y1={yCircleTop}\n          y2={yCircleTop}\n          stroke="black"\n          strokeDasharray={"2,2"}\n        />\n        <text\n          x={xCenter + dashWidth + 4}\n          y={yCircleTop}\n          fontSize={10}\n          alignmentBaseline="middle"\n        >\n          {tick}\n        </text>\n      </g>\n    );\n  });\n\n  return (\n    <svg width={diameter} height={diameter} overflow="visible">\n      {allCircles}\n    </svg>\n  );\n};\n'.trim(),B="\nreturn d3\n  .scaleSqrt()\n  .domain([min, max])\n  .range([BUBBLE_MIN_SIZE, BUBBLE_MAX_SIZE]);\n".trim(),D="\n<circle\n  cx={xScale(d.gdpPercap)}\n  cy={yScale(d.lifeExp)}\n  r={sizeScale(d.pop)}\n  ...\n  />\n".trim(),I='\nimport { useSpring, animated } from "@react-spring/web";\n\ntype CircleProps = {\n  color: string;\n  r: number;\n  cx: number;\n  cy: number;\n};\n\nexport const Circle = (props: CircleProps) => {\n  const { cx, cy, r, color } = props;\n\n  const springProps = useSpring({\n    to: { cx, cy, r },\n    config: {\n      friction: 30,\n    },\n    delay: 0,\n  });\n\n  return (\n    <animated.circle\n      cx={springProps.cx}\n      cy={springProps.cy}\n      r={springProps.r}\n      opacity={0.7}\n      stroke={color}\n      fill={color}\n      fillOpacity={0.3}\n      strokeWidth={1}\n    />\n  );\n};\n'.trim()},91161:function(e,t,n){"use strict";n.d(t,{Y:function(){return c}});var i=n(85893);let r=e=>{let{scale:t,tickNumber:n}=e,r=t.ticks(n),o=r[r.length-1],c=2*t(o),a=c/2+10,p=r.map((e,n)=>{let r=c/2,o=c-2*t(e),p=c-t(e);return(0,i.jsxs)("g",{children:[(0,i.jsx)("circle",{cx:r,cy:p,r:t(e),fill:"none",stroke:"black"}),(0,i.jsx)("line",{x1:r,x2:r+a,y1:o,y2:o,stroke:"black",strokeDasharray:"2,2"}),(0,i.jsx)("text",{x:r+a+4,y:o,fontSize:10,alignmentBaseline:"middle",children:e})]},n)});return(0,i.jsx)("svg",{width:c,height:c,overflow:"visible",children:p})};var o=n(43950);let c=e=>{let{width:t=700,height:n=400}=e,c=o.PUr().domain([0,100]).range([0,80]).nice();return(0,i.jsx)("div",{style:{width:t,height:n,display:"flex",justifyContent:"center",alignItems:"center"},children:(0,i.jsx)(r,{scale:c,tickNumber:4})})}},63084:function(e){e.exports={tableOfContent:"table-of-content_tableOfContent__jj0Ai",tocItem:"table-of-content_tocItem__osS9X",tocItemActive:"table-of-content_tocItemActive__CGMTh"}}},function(e){e.O(0,[2343,7754,3950,7823,2719,8190,3710,2594,693,2428,2411,4741,9774,2888,179],function(){return e(e.s=45650)}),_N_E=e.O()}]);