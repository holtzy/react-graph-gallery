(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1792],{5044:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/scatter-plot",function(){return r(6467)}])},6820:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var s=r(5893);r(7294);var i=r(8843),o=r(6438);let n=e=>{let{imgLink:t,height:r,opacity:i,children:o}=e;return(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{style:{backgroundImage:"url("+t+")",height:r,backgroundAttachment:"fixed",opacity:i,backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"}}),(0,s.jsx)("div",{className:"absolute top-0 left-0 w-full h-full",children:o})]})};function a(e){var t;let{chartId:r}=e,a=(null===(t=i.c.find(e=>e.id===r))||void 0===t?void 0:t.label)||"chart";return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h2",{id:"inspiration",children:a+" inspiration"}),(0,s.jsxs)("p",{children:["If you're looking for inspiration to create your next"," ",(0,s.jsx)("span",{children:a}),", note that"," ",(0,s.jsx)("a",{href:"https://www.dataviz-inspiration.com",children:"dataviz-inspiration.com"})," ","showcases many examples. Definitely the best place to get ... inspiration!"]}),(0,s.jsx)("div",{className:"border mb-10",children:(0,s.jsx)(n,{height:250,imgLink:"https://github.com/holtzy/dataviz-inspiration/blob/main/public/misc/overview1.png?raw=true",opacity:.3,children:(0,s.jsx)("div",{className:"flex justify-center items-center h-full",children:(0,s.jsxs)("div",{style:{maxWidth:400},className:"flex flex-col items-center",children:[(0,s.jsxs)("p",{className:"text-center text-sm",children:[(0,s.jsx)("a",{href:"https://www.dataviz-inspiration.com",children:"dataviz-inspiration.com"})," ","showcases hundreds of stunning dataviz projects. Have a look to get some ideas on how to make your ",(0,s.jsx)("span",{children:a})," ","looks good!"]}),(0,s.jsx)(o.J,{href:"https://www.dataviz-inspiration.com",isFilled:!0,size:"md",children:"visit"})]})})})})]})}},505:function(e,t,r){"use strict";r.d(t,{r:function(){return l}});var s=r(5893),i=r(1664),o=r.n(i),n=r(8843),a=r(88),c=r(3572);let l=e=>{let{chartId:t}=e,r=n.c.filter(e=>e.id===t)[0].label;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h2",{id:"responsiveness",children:"Responsive "+r+" with react"}),(0,s.jsxs)("p",{children:["The component above is not responsive. It expects 2 props called"," ",(0,s.jsx)("code",{children:"width"})," and ",(0,s.jsx)("code",{children:"height"})," and will render a ",r," of those dimensions."]}),(0,s.jsxs)("p",{children:["Making the ",r," responsive requires adding a ",(0,s.jsx)("b",{children:"wrapper"})," component that gets the dimension of the parent ",(0,s.jsx)("code",{children:"div"}),", and listening to a potential dimension change. This is possible thanks to a hook called"," ",(0,s.jsx)("code",{children:"useDimensions"})," that will do the job for us."]}),(0,s.jsx)(a.U,{startOpen:!1,title:(0,s.jsxs)("span",{children:[(0,s.jsx)("code",{children:"useDimensions"}),": a hook to make your viz responsive"]}),children:(0,s.jsx)(c.d,{code:u})}),(0,s.jsxs)("p",{children:["I'm in the process of writing a complete blog post on the topic."," ",(0,s.jsx)(o(),{href:"/subscribe",children:"Subscribe to the project"})," to know when it's ready."]}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{})]})},u='\nexport const useDimensions = (targetRef: React.RefObject<HTMLDivElement>) => {\n\n  const getDimensions = () => {\n    return {\n      width: targetRef.current ? targetRef.current.offsetWidth : 0,\n      height: targetRef.current ? targetRef.current.offsetHeight : 0\n    };\n  };\n\n  const [dimensions, setDimensions] = useState(getDimensions);\n\n  const handleResize = () => {\n    setDimensions(getDimensions());\n  };\n\n  useEffect(() => {\n    window.addEventListener("resize", handleResize);\n    return () => window.removeEventListener("resize", handleResize);\n  }, []);\n\n  useLayoutEffect(() => {\n    handleResize();\n  }, []);\n\n  return dimensions;\n}\n'.trim()},6467:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return E}});var s=r(5893),i=r(7294),o=r(153),n=r(9965),a=r(7262),c=r(3572),l=r(1122),u=r(1202),d=r(2428),h=r(1341),p=r(5058),x=r(505),g=r(6820),m=r(88);let f=[{subGroup:"Afghanistan",group:"Asia",y:43.828,size:31889923,x:974.5803384},{subGroup:"Albania",group:"Europe",y:76.423,size:3600523,x:5937.029526},{subGroup:"Algeria",group:"Africa",y:72.301,size:33333216,x:6223.367465},{subGroup:"Angola",group:"Africa",y:42.731,size:12420476,x:4797.231267},{subGroup:"Argentina",group:"Americas",y:75.32,size:40301927,x:12779.37964},{subGroup:"Australia",group:"Oceania",y:81.235,size:20434176,x:34435.36744},{subGroup:"Austria",group:"Europe",y:79.829,size:8199783,x:36126.4927},{subGroup:"Bahrain",group:"Asia",y:75.635,size:708573,x:29796.04834},{subGroup:"Bangladesh",group:"Asia",y:64.062,size:150448339,x:1391.253792},{subGroup:"Belgium",group:"Europe",y:79.441,size:10392226,x:33692.60508},{subGroup:"Benin",group:"Africa",y:56.728,size:8078314,x:1441.284873},{subGroup:"Bolivia",group:"Americas",y:65.554,size:9119152,x:3822.137084},{subGroup:"Bosnia and Herzegovina",group:"Europe",y:74.852,size:4552198,x:7446.298803},{subGroup:"Botswana",group:"Africa",y:50.728,size:1639131,x:12569.85177},{subGroup:"Brazil",group:"Americas",y:72.39,size:190010647,x:9065.800825},{subGroup:"Bulgaria",group:"Europe",y:73.005,size:7322858,x:10680.79282},{subGroup:"Burkina Faso",group:"Africa",y:52.295,size:14326203,x:1217.032994},{subGroup:"Burundi",group:"Africa",y:49.58,size:8390505,x:430.0706916},{subGroup:"Cambodia",group:"Asia",y:59.723,size:14131858,x:1713.778686},{subGroup:"Cameroon",group:"Africa",y:50.43,size:17696293,x:2042.09524},{subGroup:"Canada",group:"Americas",y:80.653,size:33390141,x:36319.23501},{subGroup:"Central African Republic",group:"Africa",y:44.741,size:4369038,x:706.016537},{subGroup:"Chad",group:"Africa",y:50.651,size:10238807,x:1704.063724},{subGroup:"Chile",group:"Americas",y:78.553,size:16284741,x:13171.63885},{subGroup:"China",group:"Asia",y:72.961,size:1318683096,x:4959.114854},{subGroup:"Colombia",group:"Americas",y:72.889,size:44227550,x:7006.580419},{subGroup:"Comoros",group:"Africa",y:65.152,size:710960,x:986.1478792},{subGroup:"Congo, Dem. Rep.",group:"Africa",y:46.462,size:64606759,x:277.5518587},{subGroup:"Congo, Rep.",group:"Africa",y:55.322,size:3800610,x:3632.557798},{subGroup:"Costa Rica",group:"Americas",y:78.782,size:4133884,x:9645.06142},{subGroup:"Cote d'Ivoire",group:"Africa",y:48.328,size:18013409,x:1544.750112},{subGroup:"Croatia",group:"Europe",y:75.748,size:4493312,x:14619.22272},{subGroup:"Cuba",group:"Americas",y:78.273,size:11416987,x:8948.102923},{subGroup:"Czech Republic",group:"Europe",y:76.486,size:10228744,x:22833.30851},{subGroup:"Denmark",group:"Europe",y:78.332,size:5468120,x:35278.41874},{subGroup:"Djibouti",group:"Africa",y:54.791,size:496374,x:2082.481567},{subGroup:"Dominican Republic",group:"Americas",y:72.235,size:9319622,x:6025.374752},{subGroup:"Ecuador",group:"Americas",y:74.994,size:13755680,x:6873.262326},{subGroup:"Egypt",group:"Africa",y:71.338,size:80264543,x:5581.180998},{subGroup:"El Salvador",group:"Americas",y:71.878,size:6939688,x:5728.353514},{subGroup:"Equatorial Guinea",group:"Africa",y:51.579,size:551201,x:12154.08975},{subGroup:"Eritrea",group:"Africa",y:58.04,size:4906585,x:641.3695236},{subGroup:"Ethiopia",group:"Africa",y:52.947,size:76511887,x:690.8055759},{subGroup:"Finland",group:"Europe",y:79.313,size:5238460,x:33207.0844},{subGroup:"France",group:"Europe",y:80.657,size:61083916,x:30470.0167},{subGroup:"Gabon",group:"Africa",y:56.735,size:1454867,x:13206.48452},{subGroup:"Gambia",group:"Africa",y:59.448,size:1688359,x:752.7497265},{subGroup:"Germany",group:"Europe",y:79.406,size:82400996,x:32170.37442},{subGroup:"Ghana",group:"Africa",y:60.022,size:22873338,x:1327.60891},{subGroup:"Greece",group:"Europe",y:79.483,size:10706290,x:27538.41188},{subGroup:"Guatemala",group:"Americas",y:70.259,size:12572928,x:5186.050003},{subGroup:"Guinea",group:"Africa",y:56.007,size:9947814,x:942.6542111},{subGroup:"Guinea-Bissau",group:"Africa",y:46.388,size:1472041,x:579.231743},{subGroup:"Haiti",group:"Americas",y:60.916,size:8502814,x:1201.637154},{subGroup:"Honduras",group:"Americas",y:70.198,size:7483763,x:3548.330846},{subGroup:"Hong Kong, China",group:"Asia",y:82.208,size:6980412,x:39724.97867},{subGroup:"Hungary",group:"Europe",y:73.338,size:9956108,x:18008.94444},{subGroup:"Iceland",group:"Europe",y:81.757,size:301931,x:36180.78919},{subGroup:"India",group:"Asia",y:64.698,size:1110396331,x:2452.210407},{subGroup:"Indonesia",group:"Asia",y:70.65,size:223547e3,x:3540.651564},{subGroup:"Iran",group:"Asia",y:70.964,size:69453570,x:11605.71449},{subGroup:"Iraq",group:"Asia",y:59.545,size:27499638,x:4471.061906},{subGroup:"Ireland",group:"Europe",y:78.885,size:4109086,x:40675.99635},{subGroup:"Israel",group:"Asia",y:80.745,size:6426679,x:25523.2771},{subGroup:"Italy",group:"Europe",y:80.546,size:58147733,x:28569.7197},{subGroup:"Jamaica",group:"Americas",y:72.567,size:2780132,x:7320.880262},{subGroup:"Japan",group:"Asia",y:82.603,size:127467972,x:31656.06806},{subGroup:"Jordan",group:"Asia",y:72.535,size:6053193,x:4519.461171},{subGroup:"Kenya",group:"Africa",y:54.11,size:35610177,x:1463.249282},{subGroup:"Korea, Dem. Rep.",group:"Asia",y:67.297,size:23301725,x:1593.06548},{subGroup:"Korea, Rep.",group:"Asia",y:78.623,size:49044790,x:23348.13973},{subGroup:"Kuwait",group:"Asia",y:77.588,size:2505559,x:47306.98978},{subGroup:"Lebanon",group:"Asia",y:71.993,size:3921278,x:10461.05868},{subGroup:"Lesotho",group:"Africa",y:42.592,size:2012649,x:1569.331442},{subGroup:"Liberia",group:"Africa",y:45.678,size:3193942,x:414.5073415},{subGroup:"Libya",group:"Africa",y:73.952,size:6036914,x:12057.49928},{subGroup:"Madagascar",group:"Africa",y:59.443,size:19167654,x:1044.770126},{subGroup:"Malawi",group:"Africa",y:48.303,size:13327079,x:759.3499101},{subGroup:"Malaysia",group:"Asia",y:74.241,size:24821286,x:12451.6558},{subGroup:"Mali",group:"Africa",y:54.467,size:12031795,x:1042.581557},{subGroup:"Mauritania",group:"Africa",y:64.164,size:3270065,x:1803.151496},{subGroup:"Mauritius",group:"Africa",y:72.801,size:1250882,x:10956.99112},{subGroup:"Mexico",group:"Americas",y:76.195,size:108700891,x:11977.57496},{subGroup:"Mongolia",group:"Asia",y:66.803,size:2874127,x:3095.772271},{subGroup:"Montenegro",group:"Europe",y:74.543,size:684736,x:9253.896111},{subGroup:"Morocco",group:"Africa",y:71.164,size:33757175,x:3820.17523},{subGroup:"Mozambique",group:"Africa",y:42.082,size:19951656,x:823.6856205},{subGroup:"Myanmar",group:"Asia",y:62.069,size:47761980,x:944},{subGroup:"Namibia",group:"Africa",y:52.906,size:2055080,x:4811.060429},{subGroup:"Nepal",group:"Asia",y:63.785,size:28901790,x:1091.359778},{subGroup:"Netherlands",group:"Europe",y:79.762,size:16570613,x:36797.93332},{subGroup:"New Zealand",group:"Oceania",y:80.204,size:4115771,x:25185.00911},{subGroup:"Nicaragua",group:"Americas",y:72.899,size:5675356,x:2749.320965},{subGroup:"Niger",group:"Africa",y:56.867,size:12894865,x:619.6768924},{subGroup:"Nigeria",group:"Africa",y:46.859,size:135031164,x:2013.977305},{subGroup:"Norway",group:"Europe",y:80.196,size:4627926,x:49357.19017},{subGroup:"Oman",group:"Asia",y:75.64,size:3204897,x:22316.19287},{subGroup:"Pakistan",group:"Asia",y:65.483,size:169270617,x:2605.94758},{subGroup:"Panama",group:"Americas",y:75.537,size:3242173,x:9809.185636},{subGroup:"Paraguay",group:"Americas",y:71.752,size:6667147,x:4172.838464},{subGroup:"Peru",group:"Americas",y:71.421,size:28674757,x:7408.905561},{subGroup:"Philippines",group:"Asia",y:71.688,size:91077287,x:3190.481016},{subGroup:"Poland",group:"Europe",y:75.563,size:38518241,x:15389.92468},{subGroup:"Portugal",group:"Europe",y:78.098,size:10642836,x:20509.64777},{subGroup:"Puerto Rico",group:"Americas",y:78.746,size:3942491,x:19328.70901},{subGroup:"Reunion",group:"Africa",y:76.442,size:798094,x:7670.122558},{subGroup:"Romania",group:"Europe",y:72.476,size:22276056,x:10808.47561},{subGroup:"Rwanda",group:"Africa",y:46.242,size:8860588,x:863.0884639},{subGroup:"Sao Tome and Principe",group:"Africa",y:65.528,size:199579,x:1598.435089},{subGroup:"Saudi Arabia",group:"Asia",y:72.777,size:27601038,x:21654.83194},{subGroup:"Senegal",group:"Africa",y:63.062,size:12267493,x:1712.472136},{subGroup:"Serbia",group:"Europe",y:74.002,size:10150265,x:9786.534714},{subGroup:"Sierra Leone",group:"Africa",y:42.568,size:6144562,x:862.5407561},{subGroup:"Singapore",group:"Asia",y:79.972,size:4553009,x:47143.17964},{subGroup:"Slovak Republic",group:"Europe",y:74.663,size:5447502,x:18678.31435},{subGroup:"Slovenia",group:"Europe",y:77.926,size:2009245,x:25768.25759},{subGroup:"Somalia",group:"Africa",y:48.159,size:9118773,x:926.1410683},{subGroup:"South Africa",group:"Africa",y:49.339,size:43997828,x:9269.657808},{subGroup:"Spain",group:"Europe",y:80.941,size:40448191,x:28821.0637},{subGroup:"Sri Lanka",group:"Asia",y:72.396,size:20378239,x:3970.095407},{subGroup:"Sudan",group:"Africa",y:58.556,size:42292929,x:2602.394995},{subGroup:"Swaziland",group:"Africa",y:39.613,size:1133066,x:4513.480643},{subGroup:"Sweden",group:"Europe",y:80.884,size:9031088,x:33859.74835},{subGroup:"Switzerland",group:"Europe",y:81.701,size:7554661,x:37506.41907},{subGroup:"Syria",group:"Asia",y:74.143,size:19314747,x:4184.548089},{subGroup:"Taiwan",group:"Asia",y:78.4,size:23174294,x:28718.27684},{subGroup:"Tanzania",group:"Africa",y:52.517,size:38139640,x:1107.482182},{subGroup:"Thailand",group:"Asia",y:70.616,size:65068149,x:7458.396327},{subGroup:"Togo",group:"Africa",y:58.42,size:5701579,x:882.9699438},{subGroup:"Trinidad and Tobago",group:"Americas",y:69.819,size:1056608,x:18008.50924},{subGroup:"Tunisia",group:"Africa",y:73.923,size:10276158,x:7092.923025},{subGroup:"Turkey",group:"Europe",y:71.777,size:71158647,x:8458.276384},{subGroup:"Uganda",group:"Africa",y:51.542,size:29170398,x:1056.380121},{subGroup:"United Kingdom",group:"Europe",y:79.425,size:60776238,x:33203.26128},{subGroup:"United ys",group:"Americas",y:78.242,size:301139947,x:42951.65309},{subGroup:"Uruguay",group:"Americas",y:76.384,size:3447496,x:10611.46299},{subGroup:"Venezuela",group:"Americas",y:73.747,size:26084662,x:11415.80569},{subGroup:"Vietnam",group:"Asia",y:74.249,size:85262356,x:2441.576404},{subGroup:"West Bank and Gaza",group:"Asia",y:73.422,size:4018332,x:3025.349798},{subGroup:"Yemen, Rep.",group:"Asia",y:62.698,size:22211743,x:2280.769906},{subGroup:"Zambia",group:"Africa",y:42.384,size:11746035,x:1271.211593},{subGroup:"Zimbabwe",group:"Africa",y:43.487,size:12311143,x:469.7092981}];var b=r(665);let y=e=>{let{yScale:t,pixelsPerTick:r,width:o}=e,n=t.range(),a=(0,i.useMemo)(()=>{let e=n[0]-n[1];return t.ticks(Math.floor(e/r)).map(e=>({value:e,yOffset:t(e)}))},[t]);return(0,s.jsx)(s.Fragment,{children:a.map(e=>{let{value:t,yOffset:r}=e;return(0,s.jsxs)("g",{transform:"translate(0, ".concat(r,")"),children:[(0,s.jsx)("line",{x1:-10,x2:o+10,stroke:"#D2D7D3",strokeWidth:.5,shapeRendering:"crispEdges"}),(0,s.jsx)("text",{style:{fontSize:"10px",textAnchor:"middle",transform:"translateX(-20px)",fill:"#D2D7D3"},children:t},t)]},t)})})},j=e=>{let{xScale:t,pixelsPerTick:r,height:o}=e,n=t.range(),a=(0,i.useMemo)(()=>{let e=n[1]-n[0];return t.ticks(Math.floor(e/r)).map(e=>({value:e,xOffset:t(e)}))},[t]);return(0,s.jsx)(s.Fragment,{children:a.map(e=>{let{value:t,xOffset:r}=e;return(0,s.jsxs)("g",{transform:"translate(".concat(r,", 0)"),children:[(0,s.jsx)("line",{y1:10,y2:-o-10,stroke:"#D2D7D3",strokeWidth:.5,shapeRendering:"crispEdges"}),(0,s.jsx)("text",{style:{fontSize:"10px",textAnchor:"middle",transform:"translateY(20px)",fill:"#D2D7D3"},children:t},t)]},t)})})};var w=r(90),z=r.n(w);let v=e=>{let{interactionData:t}=e;return t?(0,s.jsx)("div",{className:z().tooltip,style:{left:t.xPos,top:t.yPos},children:t.name}):null},G={top:60,right:60,bottom:60,left:60},A=e=>{let{width:t,height:r,data:o}=e,n=t-G.right-G.left,a=r-G.top-G.bottom,[c,l]=(0,i.useState)(null),u=b.BYU().domain([35,85]).range([a,0]),d=b.BYU().domain([-3e3,5e4]).range([0,n]),h=o.map(e=>String(e.group)),p=b.PKp().domain(h).range(["#e0ac2b","#e85252","#6689c6","#9a6fb0","#a53253"]),x=o.map((e,t)=>(0,s.jsx)("circle",{r:8,cx:d(e.x),cy:u(e.y),stroke:p(e.group),fill:p(e.group),fillOpacity:.7,onMouseEnter:()=>l({xPos:d(e.x),yPos:u(e.y),name:e.subGroup}),onMouseLeave:()=>l(null)},t));return(0,s.jsxs)("div",{style:{position:"relative"},children:[(0,s.jsx)("svg",{width:t,height:r,children:(0,s.jsxs)("g",{width:n,height:a,transform:"translate(".concat([G.left,G.top].join(","),")"),children:[(0,s.jsx)(y,{yScale:u,pixelsPerTick:40,width:n}),(0,s.jsx)("g",{transform:"translate(0, ".concat(a,")"),children:(0,s.jsx)(j,{xScale:d,pixelsPerTick:40,height:a})}),x]})}),(0,s.jsx)("div",{style:{width:n,height:a,position:"absolute",top:0,left:0,pointerEvents:"none",marginLeft:G.left,marginTop:G.top},children:(0,s.jsx)(v,{interactionData:c})})]})},k=e=>{let{width:t=700,height:r=400}=e;return(0,s.jsx)(A,{data:f,width:t,height:r})};var T=r(1664),S=r.n(T);let D=(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("p",{children:["A ",(0,s.jsx)("a",{href:"https://www.data-to-viz.com/graph/scatter.html",children:"scatterplot"})," ","displays the relationship between 2 numeric variables. This page is a step-by-step guide on how to build your own scatterplot for the web, using"," ",(0,s.jsx)("a",{href:"https://reactjs.org/",children:"React"})," and"," ",(0,s.jsx)("a",{href:"https://www.d3-graph-gallery.com",children:"D3.js"}),"."]}),(0,s.jsxs)("p",{children:["It starts with very basic concepts like ",(0,s.jsx)("b",{children:"data structure"}),","," ",(0,s.jsx)("b",{children:"scales"})," and svg circle ",(0,s.jsx)("b",{children:"rendering"}),". It then shows how to add interactivity to the chart with ",(0,s.jsx)("b",{children:"hover effects"})," and ",(0,s.jsx)("b",{children:"tooltips"}),". At the end of the post, you should be able to build you own ready-to-publish scatterplot \uD83D\uDE47‍♂️."]})]});function E(){return(0,s.jsxs)(o.A,{title:"How to build a scatter plot with React and D3.",seoDescription:"A step-by-step guide to build your very own scatterplot from scratch. Comes with explanations, code sandboxes, and ready-to-use templates.",children:[(0,s.jsx)(n.Z,{title:(0,s.jsxs)("h1",{children:["Scatterplot"," ",(0,s.jsx)("span",{className:"text-gray-600 font-light hidden sm:inline",children:"with React and d3.js"})]}),description:D,chartType:"scatter"}),(0,s.jsx)("h2",{id:"data",children:"The Data"}),(0,s.jsxs)("p",{children:["The dataset used to build a scatterplot is usually an"," ",(0,s.jsx)("b",{children:"array of objects"}),"."]}),(0,s.jsxs)("p",{children:["For each object, at least 2 properties are required: ",(0,s.jsx)("code",{children:"x"})," and"," ",(0,s.jsx)("code",{children:"y"}),". The value of ",(0,s.jsx)("code",{children:"x"})," will control the position of the datapoint on the horizontal axis. The value of ",(0,s.jsx)("code",{children:"y"})," will be linked with the vertical axis."]}),(0,s.jsx)(c.d,{code:C}),(0,s.jsxs)("p",{children:["We will see later in this guide that some additional properties can become useful. For instance, a third numeric value could be added as a"," ",(0,s.jsx)("code",{children:"size"})," property, and a categorical property could be used as a ",(0,s.jsx)("code",{children:"group"})," to control the ",(0,s.jsx)("b",{children:"color"}),"."]}),(0,s.jsxs)("p",{children:["This tutorial starts by using dummy data for the most simple examples. It then uses the famous"," ",(0,s.jsx)("a",{href:"https://www.data-to-viz.com/story/ThreeNum.html",children:"gapminder"})," ","dataset that provides the ",(0,s.jsx)("b",{children:"life expectancy"})," and the"," ",(0,s.jsx)("b",{children:"population size"})," for every country."]}),(0,s.jsx)("h2",{id:"skeleton",children:"Component skeleton"}),(0,s.jsxs)("p",{children:["The goal here is to create a ",(0,s.jsx)("code",{children:"Scatterplot"})," component that will be stored in a ",(0,s.jsx)("code",{children:"Scatterplot.tsx"})," file. This component requires 3 props to render: a ",(0,s.jsx)("code",{children:"width"}),", a ",(0,s.jsx)("code",{children:"height"}),", and some ",(0,s.jsx)("code",{children:"data"}),"."]}),(0,s.jsxs)("p",{children:["The shape of the ",(0,s.jsx)("code",{children:"data"})," is described above. The"," ",(0,s.jsx)("code",{children:"width"})," and ",(0,s.jsx)("code",{children:"height"})," will be used to rendering a"," ",(0,s.jsx)("code",{children:"svg"})," element in the DOM, in which we will insert the scatterplot."]}),(0,s.jsxs)("p",{children:["To put it in a nutshell, that's the skeleton of our"," ",(0,s.jsx)("code",{children:"Scatterplot"})," component:"]}),(0,s.jsx)(c.d,{code:P}),(0,s.jsxs)("p",{children:["It's fundamental to understand that with this code organization, d3.js will be used to prepare the svg ",(0,s.jsx)("code",{children:"circle"}),", but it's react that will render them in the ",(0,s.jsx)("code",{children:"return()"})," statement. We won't use d3 methods like ",(0,s.jsx)("code",{children:"append"})," that you can find in usual"," ",(0,s.jsx)("a",{href:"https://www.d3-graph-gallery.com",children:"d3.js examples"}),"."]}),(0,s.jsx)("h2",{id:"scales and axes",children:"Scales and axes"}),(0,s.jsx)("h3",{children:"→ Scales"}),(0,s.jsxs)("p",{children:["Building a scatterplot requires to transform a ",(0,s.jsx)("b",{children:"dimension"})," (a numeric variable like life expectancy) in a ",(0,s.jsx)("b",{children:"position in pixels"}),". This is done using a fundamental dataviz concept called ",(0,s.jsx)("b",{children:"scale"}),"."]}),(0,s.jsxs)("p",{children:["D3.js comes with a handful set of"," ",(0,s.jsx)("a",{href:"https://github.com/d3/d3-scale",children:"predefined scales"}),"."," ",(0,s.jsx)("code",{children:"scaleLinear"})," is what we need for the X and Y axis. Here is a quick overview on how to build and use a scale:"]}),(0,s.jsx)(c.d,{code:R}),(0,s.jsxs)("p",{children:["To dig more into d3 scales, visit this"," ",(0,s.jsx)("a",{href:"https://d3-graph-gallery.com/graph/custom_axis.html",children:"dedicated page"}),". It's a crucial concept that will be used everywhere in this website."]}),(0,s.jsx)("h3",{children:"→ Axes"}),(0,s.jsxs)("p",{children:["Axes are rather complicated elements. They are composed of the main"," ",(0,s.jsx)("b",{children:"segment"}),", several ",(0,s.jsx)("b",{children:"ticks"})," that each have a ",(0,s.jsx)("b",{children:"label"}),", and are often decorated with a ",(0,s.jsx)("b",{children:"title"}),"."]}),(0,s.jsxs)("p",{children:["D3.js offers some powerful"," ",(0,s.jsx)("a",{href:"https://d3-graph-gallery.com/graph/custom_axis.html",children:"functions"})," ","to draw those axes for you, based on the scales discussed above. For instance, one could call ",(0,s.jsx)("code",{children:"axisBottom()"})," in a"," ",(0,s.jsx)("code",{children:"useEffect"})," hook to imperatively draw the X axis into a specific DOM element. But this comes with some caveats and is thus not the option used in this gallery."]}),(0,s.jsxs)("p",{children:["Instead, I suggest creating the axes from scratch and storing them in 2 react components called ",(0,s.jsx)("code",{children:"AxisBottom"})," and"," ",(0,s.jsx)("code",{children:"AxisLeft"}),". Those components expect a d3 scale as input and do all the svg drawing for us."]}),(0,s.jsx)(l.$,{VizComponent:h.c,vizName:"AxisBasic",maxWidth:500,height:300,caption:(0,s.jsx)("p",{children:"Compute scales to map numeric values to a 2d canvas. Use custom react components to render axes with react from this scales."})}),(0,s.jsxs)("p",{children:["The code for those X and Y axis components is provided below. The following examples will show how straightforward it is to tweak them to reach other ",(0,s.jsx)("b",{children:"chart styles"}),"."]}),(0,s.jsx)(m.U,{startOpen:!1,title:"code for the X axis react component",children:(0,s.jsx)(c.d,{code:N})}),(0,s.jsx)(m.U,{startOpen:!1,title:"code for the Y axis react component",children:(0,s.jsx)(c.d,{code:M})}),(0,s.jsxs)("p",{children:[(0,s.jsx)("br",{}),(0,s.jsx)("u",{children:"Note"}),": do not forget to use the ",(0,s.jsx)("code",{children:"crispEdges"})," value of the ",(0,s.jsx)("code",{children:"shape-rendering"})," svg attribute. Otherwise the vertical and horizontal segments might be blurry."]}),(0,s.jsx)("h2",{id:"circles",children:"Add circles"}),(0,s.jsxs)("p",{children:["We are now pretty close to the first scatterplot. There is just one more critical part missing: ",(0,s.jsx)("b",{children:"markers"}),"."]}),(0,s.jsxs)("p",{children:["To add them, we have to ",(0,s.jsx)("code",{children:"map()"})," on the data input and add an svg ",(0,s.jsx)("code",{children:"circle"})," for each. That's the code snippet that needs to be added:"]}),(0,s.jsx)(c.d,{code:I}),(0,s.jsxs)("p",{children:[(0,s.jsx)("b",{children:"That's it!"})," \uD83C\uDF89"]}),(0,s.jsxs)("p",{children:["Calling the ",(0,s.jsx)("code",{children:"allShapes"})," object in the ",(0,s.jsx)("code",{children:"return()"})," ","statement of the component will add as many circles as needed."]}),(0,s.jsxs)("p",{children:["Note that styling attributes are written as prop here. In production, you should consider adding a ",(0,s.jsx)("code",{children:"class"})," to those circles and setting it using css."]}),(0,s.jsx)(l.$,{VizComponent:u.C,vizName:"ScatterplotBasic",maxWidth:500,height:500,caption:"Add a svg circle for each item of the dataset to get a first scatterplot"}),(0,s.jsxs)("p",{children:["That's not the best scatterplot in the world yet, but it's definitely a"," ",(0,s.jsx)("b",{children:"first working version"}),"."]}),(0,s.jsx)(x.r,{chartId:"scatter"}),(0,s.jsx)("h2",{id:"tooltip",children:"Tooltip"}),(0,s.jsxs)("p",{children:["There is a very common ",(0,s.jsx)("b",{children:"frustration"})," with scatterplots: you're interested in a specific data point (let's say it's out of the general trend for instance), but you ",(0,s.jsx)("b",{children:"ignore everything"})," about this item."]}),(0,s.jsx)("p",{children:"This is when tooltips come into play. You can add as much information as you want to it, making the chart much more insightful."}),(0,s.jsxs)("p",{children:["In the following chart based on the"," ",(0,s.jsx)("a",{href:"https://www.data-to-viz.com/story/ThreeNum.html",children:"gapminder"})," ","dataset, don't you want to know what are the countries with the highest life expectancy or GDP per capita? Labeling all circles would result in a very ",(0,s.jsx)("b",{children:"cluttered"})," figure, so let's learn how to add tooltips instead."]}),(0,s.jsx)(l.$,{VizComponent:k,vizName:"ScatterplotTooltip",maxWidth:500,height:500,caption:"Scatterplot with tooltip. Hover over a circle to get the corresponding country name."}),(0,s.jsxs)("p",{children:["There are ",(0,s.jsx)("b",{children:"many different approaches"})," to building tooltips, and I'm"," ",(0,s.jsx)(S(),{href:"/subscribe",children:"preparing a whole dedicated blog post"})," on the topic."]}),(0,s.jsxs)("p",{children:["Here I suggest starting with an internal state using the"," ",(0,s.jsx)("code",{children:"useState"})," hook. ",(0,s.jsx)("code",{children:"interactionData"})," is an object providing everything you need to draw a tooltip. It usually has 2"," ",(0,s.jsx)("code",{children:"xPos"})," and ",(0,s.jsx)("code",{children:"yPos"})," properties that are the position of the tooltip. It then has as many props as needed to fill the tooltip. (I'm just adding the country name in my example)"]}),(0,s.jsx)(c.d,{code:O}),(0,s.jsxs)("p",{children:[(0,s.jsx)("code",{children:"setInteractiondata"})," is a function allowing to update this state. We can use it on each circle to update"," ",(0,s.jsx)("code",{children:"interactionData"})," each time it is hovered over:"]}),(0,s.jsx)(c.d,{code:L}),(0,s.jsxs)("p",{children:["We can now create a ",(0,s.jsx)("code",{children:"Tooltip"})," component that will render only when the ",(0,s.jsx)("code",{children:"interactionData"})," is not ",(0,s.jsx)("code",{children:"null"}),". It is usually more convenient to render the tooltip using ",(0,s.jsx)("code",{children:"html"}),", not ",(0,s.jsx)("code",{children:"svg"})," (it is easier to customize it)."]}),(0,s.jsxs)("p",{children:["To do so, the tooltip is rendered in an ",(0,s.jsx)("code",{children:"absolute"})," positioned div that is drawn exactly on top of the chart area, excluding axes. This is how to ",(0,s.jsx)("code",{children:"return"})," statement of our ",(0,s.jsx)("code",{children:"Scatterplot"})," ","component now looks like:"]}),(0,s.jsx)(c.d,{code:B}),(0,s.jsxs)("p",{children:["Now you can add whatever content in the ",(0,s.jsx)("code",{children:"Tooltip"})," component. Check the code below the example above to see an example."]}),(0,s.jsxs)("p",{className:"text-gray-400",children:["This was a rather succint explanation on tooltips. A more"," ",(0,s.jsx)(S(),{href:"/subscribe",children:"in-depth explanation"})," will be published soon."]}),(0,s.jsx)("h2",{id:"hover effect",children:"Hover effect"}),(0,s.jsxs)("p",{children:["Showing a tooltip on hover is helpful, but it's often a nice touch to add a ",(0,s.jsx)("b",{children:"hover effect"}),". Hover effects on scatterplots are usually used for 2 main reasons:"]}),(0,s.jsxs)("ul",{children:[(0,s.jsxs)("li",{children:["Highlight ",(0,s.jsx)("b",{children:"one circle"}),": makes sure the tooltip you're reading is associated with the circle you're targeting."]}),(0,s.jsxs)("li",{children:["Highlight ",(0,s.jsx)("b",{children:"a group"}),": it's often interesting to see all the related points in the dataset."]})]}),(0,s.jsx)("p",{children:"Let's implement both on the chart below. Hovering over a country will fade all circles except the ones of the same continent."}),(0,s.jsx)(l.$,{VizComponent:p.d,vizName:"ScatterplotHoverHighlight",maxWidth:500,height:500,caption:"Scatterplot with hover effect: hover over a circle to highlight it and its group"}),(0,s.jsxs)("p",{children:["As for the tooltip example above, everything starts with an internal state (called ",(0,s.jsx)("code",{children:"hoveredGroup"}),") that stores which circle is hovered hover."]}),(0,s.jsx)(c.d,{code:H}),(0,s.jsxs)("p",{children:["Now, this state needs to be updated when a user hovers over the circle."," ",(0,s.jsx)("code",{children:"setHoveredGroup"})," can be passed as a callback to the"," ",(0,s.jsx)("code",{children:"onMouseOver"})," attribute of each circle."]}),(0,s.jsxs)("p",{children:["On top of this, some specific css classes can be attributed to circles depending on the circle that is hovered hover. In the example above, a class called ",(0,s.jsx)("code",{children:"dimmed"})," is added to circles that must disappear."]}),(0,s.jsx)("p",{children:"To put it in a nutshell, the circles are created as follows:"}),(0,s.jsx)(c.d,{code:W}),(0,s.jsxs)("p",{children:["Last but not least, some css needs to be added to customize the circle depending on if they are in default, ",(0,s.jsx)("code",{children:".dimmed"})," or"," ",(0,s.jsx)("code",{children:":hover"})," mode."]}),(0,s.jsxs)("p",{children:["Note that the ",(0,s.jsx)("code",{children:"filter: saturate(0)"})," is a good way to dim unwanted circles. Also, playing with ",(0,s.jsx)("code",{children:"transition-delay"})," and"," ",(0,s.jsx)("code",{children:"transition-duration"})," adds to animate the transition is a nice touch you should consider. Check the code below the example to see the full css."]}),(0,s.jsxs)("p",{className:"text-gray-400 mt-8",children:["The hover effect is another big topic in data visualization. A dedicated post will be published soon on the topic, feel free to"," ",(0,s.jsx)(S(),{href:"/subscribe",children:"subscribe"})," to know when."]}),(0,s.jsx)(g.Z,{chartId:"scatter"}),(0,s.jsx)("h2",{id:"real life",children:"Real-life application"}),(0,s.jsx)("p",{children:"Let's apply the concepts learned above to a real-life example."}),(0,s.jsxs)("p",{children:["I like this scatterplot originally published on the data wrapper"," ",(0,s.jsx)("a",{href:"https://blog.datawrapper.de/climate-risk-readiness-responsibility/",children:"blog"}),". It shows a strong correlation between vulnerability to climate change and CO2 emissions."]}),(0,s.jsx)("br",{}),(0,s.jsx)("p",{children:"The chart has several features that are interesting to reproduce fom a technical point of view:"}),(0,s.jsxs)("ul",{children:[(0,s.jsxs)("li",{children:["Custom ",(0,s.jsx)("b",{children:"annotation"}),": only a fraction of the country names are written"]}),(0,s.jsx)("li",{children:"Hover effect: the hovered country is highlighted with a black stroke. After a short delay, countries of other groups are dimmed. Note that the effect is triggered once the mouse approaches the marker, no need to be perfectly on top."}),(0,s.jsx)("li",{children:"Tooltip: highly customized and linked to the mouse position"})]}),(0,s.jsx)(l.$,{VizComponent:d.z,vizName:"ScatterplotClimateCrisis",maxWidth:700,height:900,caption:(0,s.jsxs)("span",{children:["Reproduction of a chart originally published by"," ",(0,s.jsx)("a",{href:"https://blog.datawrapper.de/climate-risk-readiness-responsibility/",children:"Data Wrapper"})," ","using react and d3.js."]})}),(0,s.jsx)("h2",{children:"Useful links"}),(0,s.jsx)("p",{children:"The following links have been useful to create this page:"}),(0,s.jsxs)("ul",{children:[(0,s.jsxs)("li",{children:[(0,s.jsx)("i",{children:"Building axes in d3.js"})," and the ",(0,s.jsx)("i",{children:"scatterplot section"})," from the"," ",(0,s.jsx)("a",{href:"https://d3-graph-gallery.com/graph/custom_axis.html",children:"d3 graph gallery"})]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("a",{href:"https://github.com/d3/d3-scale",children:"Official doc"})," about scales."," "]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("i",{children:"Using React with D3.js"})," on Amelia Wattenberger's"," ",(0,s.jsx)("a",{href:"https://wattenberger.com/blog/react-and-d3",children:"blog"}),"."]}),(0,s.jsxs)("li",{children:["This"," ",(0,s.jsx)("a",{href:"https://stackoverflow.com/questions/49058890/how-to-get-a-react-components-size-height-width-before-render",children:"stack overflow discussion"})," ","about react component's size."]})]}),(0,s.jsx)("div",{className:"full-bleed border-t h-0 bg-gray-100 mb-3 mt-24"}),(0,s.jsx)(a.Z,{chartFamily:"correlation"}),(0,s.jsx)("div",{className:"mt-20"})]})}let C="\nconst data = [\n  {\n    x: 2,\n    y: 4\n  },\n  {\n    x: 8,\n    y: 5\n  }\n]\n".trim(),N='\nimport { useMemo } from "react";\nimport { ScaleLinear } from "d3";\n\ntype AxisBottomProps = {\n  xScale: ScaleLinear<number, number>;\n  pixelsPerTick: number;\n};\n\n// tick length\nconst TICK_LENGTH = 6;\n\nexport const AxisBottom = ({ xScale, pixelsPerTick }: AxisBottomProps) => {\n  const range = xScale.range();\n\n  const ticks = useMemo(() => {\n    const width = range[1] - range[0];\n    const numberOfTicksTarget = Math.floor(width / pixelsPerTick);\n\n    return xScale.ticks(numberOfTicksTarget).map((value) => ({\n      value,\n      xOffset: xScale(value),\n    }));\n  }, [xScale]);\n\n  return (\n    <>\n      {/* Main horizontal line */}\n      <path\n        d={["M", range[0], 0, "L", range[1], 0].join(" ")}\n        fill="none"\n        stroke="currentColor"\n      />\n\n      {/* Ticks and labels */}\n      {ticks.map(({ value, xOffset }) => (\n        <g key={value} transform={\'translate(${xOffset}, 0)\'}>\n          <line y2={TICK_LENGTH} stroke="currentColor" />\n          <text\n            key={value}\n            style={{\n              fontSize: "10px",\n              textAnchor: "middle",\n              transform: "translateY(20px)",\n            }}\n          >\n            {value}\n          </text>\n        </g>\n      ))}\n    </>\n  );\n};\n'.trim(),M='\nimport { useMemo } from "react";\nimport { ScaleLinear } from "d3";\n\ntype AxisLeftProps = {\n  yScale: ScaleLinear<number, number>;\n  pixelsPerTick: number;\n  width: number;\n};\n\nconst TICK_LENGTH = 10;\n\nexport const AxisLeft = ({ yScale, pixelsPerTick, width }: AxisLeftProps) => {\n  const range = yScale.range();\n\n  const ticks = useMemo(() => {\n    const height = range[0] - range[1];\n    const numberOfTicksTarget = Math.floor(height / pixelsPerTick);\n\n    return yScale.ticks(numberOfTicksTarget).map((value) => ({\n      value,\n      yOffset: yScale(value),\n    }));\n  }, [yScale]);\n\n  return (\n    <>\n      {/* Ticks and labels */}\n      {ticks.map(({ value, yOffset }) => (\n        <g\n          key={value}\n          transform={"translate(0, {yOffset})"} // TODO struggling with back ticks\n          shapeRendering={"crispEdges"}\n        >\n          <line\n            x1={-TICK_LENGTH}\n            x2={width + TICK_LENGTH}\n            stroke="#D2D7D3"\n            strokeWidth={0.5}\n          />\n          <text\n            key={value}\n            style={{\n              fontSize: "10px",\n              textAnchor: "middle",\n              transform: "translateX(-20px)",\n              fill: "#D2D7D3",\n            }}\n          >\n            {value}\n          </text>\n        </g>\n      ))}\n    </>\n  );\n};\n'.trim(),I='\nconst allShapes = data.map((d, i) => {\n  return (\n    <circle\n      key={i}\n      r={7} // radius\n      cx={xScale(d.x)} // position on the X axis\n      cy={yScale(d.y)} // on the Y axis\n      opacity={1}\n      stroke="#cb1dd1"\n      fill="#cb1dd1"\n      fillOpacity={0.2}\n      strokeWidth={1}\n    />\n  );\n});\n'.trim(),R="\nconst scale = d3.scaleLinear()\n  .domain([0, 10]) // data goes from 0 to 10\n  .range([0, 200]); // axis goes from 0 to 200\n\nscale(0); // 0 -> item with a value of 0 will be at the extreme left of the axis\nscale(5); // 100 -> middle of the axis\nscale(10); // 200 -> extreme right\n".trim(),P='\nimport * as d3 from "d3"; // we will need d3.js\n\ntype ScatterplotProps = {\n  width: number;\n  height: number;\n  data: { x: number; y: number }[];\n};\n\nexport const Scatterplot = ({ width, height, data }: ScatterplotProps) => {\n\n  // read the data\n  // do some stuff with d3\n  // compute all the <circle>\n\n  return (\n    <div>\n      <svg width={width} height={height}>\n        // render all the <circle>\n      </svg>\n    </div>\n  );\n};\n'.trim(),O="\nconst [interactionData, setInteractiondata] = useState<InteractionData | null>(null);\n".trim(),L="\n<circle\n  r={8}\n  cx={xScale(d.x)}\n  cy={yScale(d.y)}\n  onMouseEnter={() => // Each time the circle is hovered hover...\n    setInteractionData({ // ... update the interactionData state with the circle information\n      xPos: xScale(d.x),\n      yPos: yScale(d.y),\n      name: d.subGroup,\n    })\n  }\n  onMouseLeave={() => setInteractionData(null)} // When the user stops hovering, reset the interactionData to null\n/>\n".trim(),B='\nreturn (\n  <div style={{ position: "relative" }}>\n    <svg width={width} height={height}>\n      // axes and circles go here\n    </svg>\n\n    {/* Tooltip */}\n    <div\n      style={{\n        width: boundsWidth, // the width of the chart area excluding axes = width - left margin\n        height: boundsHeight,\n        position: "absolute",\n        top: 0,\n        left: 0,\n        pointerEvents: "none",\n        marginLeft: MARGIN.left,\n        marginTop: MARGIN.top,\n      }}\n    >\n      <Tooltip interactionData={interactionData} />\n    </div>\n'.trim(),H="\nconst [hoveredGroup, setHoveredGroup] = useState<string | null>(null);\n".trim(),W='\nconst allShapes = data.map((d, i) => {\n  const className = // class if the circle depends on the hover state\n    hoveredGroup && d.group !== hoveredGroup\n      ? styles.scatterplotCircle + " " + styles.dimmed\n      : styles.scatterplotCircle;\n\n  return (\n    <circle\n      key={i}\n      r={5}\n      cx={xScale(d.x)}\n      cy={yScale(d.y)}\n      className={className} // class is attributed here\n      stroke={colorScale(d.group)}\n      fill={colorScale(d.group)}\n      onMouseOver={() => setHoveredGroup(d.group)} // callback to update the state\n      onMouseLeave={() => setHoveredGroup(null)} // and to set it back to null\n    />\n  );\n});\n'.trim()},4699:function(e,t,r){"use strict";r.d(t,{X:function(){return u}});var s=r(5893),i=r(665);let o=e=>{let{width:t,height:r}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("defs",{children:(0,s.jsx)("pattern",{id:"pattern_rkDsm",patternUnits:"userSpaceOnUse",width:"9.5",height:"2.5",patternTransform:"rotate(41)",children:(0,s.jsx)("line",{x1:"0",y:"0",x2:"0",y2:"9.5",stroke:"#D9B9F3",strokeWidth:"1"})})}),(0,s.jsx)("rect",{width:t,height:r,fill:"url(#pattern_rkDsm)",opacity:"1"})]})};var n=r(7294);let a=e=>{let{xScale:t,pixelsPerTick:r}=e,i=t.range(),o=(0,n.useMemo)(()=>{let e=i[1]-i[0];return t.ticks(Math.floor(e/r)).map(e=>({value:e,xOffset:t(e)}))},[t]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("path",{d:["M",i[0],0,"L",i[1],0].join(" "),fill:"none",stroke:"currentColor"}),o.map(e=>{let{value:t,xOffset:r}=e;return(0,s.jsxs)("g",{transform:"translate(".concat(r,", 0)"),children:[(0,s.jsx)("line",{y2:6,stroke:"currentColor"}),(0,s.jsx)("text",{style:{fontSize:"10px",textAnchor:"middle",transform:"translateY(20px)"},children:t},t)]},t)})]})},c=e=>{let{yScale:t,pixelsPerTick:r}=e,i=t.range(),o=(0,n.useMemo)(()=>{let e=i[0]-i[1];return t.ticks(Math.floor(e/r)).map(e=>({value:e,yOffset:t(e)}))},[t]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("path",{d:["M",0,i[0],"L",0,i[1]].join(" "),fill:"none",stroke:"currentColor"}),o.map(e=>{let{value:t,yOffset:r}=e;return(0,s.jsxs)("g",{transform:"translate(0, ".concat(r,")"),children:[(0,s.jsx)("line",{x2:-6,stroke:"currentColor"}),(0,s.jsx)("text",{style:{fontSize:"10px",textAnchor:"middle",transform:"translateX(-20px)"},children:t},t)]},t)})]})},l={top:30,right:30,bottom:50,left:50},u=e=>{let{width:t,height:r}=e,n=t-l.right-l.left,u=r-l.top-l.bottom,d=i.BYU().domain([0,10]).range([0,n]),h=i.BYU().domain([0,11]).range([u,0]);return i.p2C().domain([1e-24,10]).range(["red","blue"]).clamp(!0),(0,s.jsx)("div",{children:(0,s.jsx)("svg",{width:t,height:r,shapeRendering:"crispEdges",children:(0,s.jsxs)("g",{width:n,height:u,transform:"translate(".concat([l.left,l.top].join(","),")"),overflow:"visible",children:[(0,s.jsx)(o,{width:n,height:u}),(0,s.jsx)(c,{yScale:h,pixelsPerTick:30}),(0,s.jsx)("g",{transform:"translate(0, ".concat(u,")"),children:(0,s.jsx)(a,{xScale:d,pixelsPerTick:60})})]})})})}},1341:function(e,t,r){"use strict";r.d(t,{c:function(){return o}});var s=r(5893),i=r(4699);let o=e=>{let{width:t=700,height:r=400}=e;return(0,s.jsx)(i.X,{width:t,height:r})}},1202:function(e,t,r){"use strict";r.d(t,{C:function(){return d}});var s=r(5893);let i=[{x:2,y:4},{x:3,y:5},{x:1,y:2},{x:5,y:5},{x:7,y:8},{x:9,y:9},{x:6,y:8},{x:5,y:4},{x:7,y:5},{x:8,y:9},{x:6,y:9},{x:3,y:6},{x:2,y:1}];var o=r(665),n=r(7294);let a=e=>{let{yScale:t,pixelsPerTick:r,width:i}=e,o=t.range(),a=(0,n.useMemo)(()=>{let e=o[0]-o[1];return t.ticks(Math.floor(e/r)).map(e=>({value:e,yOffset:t(e)}))},[t]);return(0,s.jsx)(s.Fragment,{children:a.map(e=>{let{value:t,yOffset:r}=e;return(0,s.jsxs)("g",{transform:"translate(0, ".concat(r,")"),shapeRendering:"crispEdges",children:[(0,s.jsx)("line",{x1:-10,x2:i+10,stroke:"#D2D7D3",strokeWidth:.5}),(0,s.jsx)("text",{style:{fontSize:"10px",textAnchor:"middle",transform:"translateX(-20px)",fill:"#D2D7D3"},children:t},t)]},t)})})},c=e=>{let{xScale:t,pixelsPerTick:r,height:i}=e,o=t.range(),a=(0,n.useMemo)(()=>{let e=o[1]-o[0];return t.ticks(Math.floor(e/r)).map(e=>({value:e,xOffset:t(e)}))},[t]);return(0,s.jsx)(s.Fragment,{children:a.map(e=>{let{value:t,xOffset:r}=e;return(0,s.jsxs)("g",{transform:"translate(".concat(r,", 0)"),shapeRendering:"crispEdges",children:[(0,s.jsx)("line",{y1:10,y2:-i-10,stroke:"#D2D7D3",strokeWidth:.5}),(0,s.jsx)("text",{style:{fontSize:"10px",textAnchor:"middle",transform:"translateY(20px)",fill:"#D2D7D3"},children:t},t)]},t)})})},l={top:60,right:60,bottom:60,left:60},u=e=>{let{width:t,height:r,data:i}=e,n=t-l.right-l.left,u=r-l.top-l.bottom,d=o.BYU().domain([0,10]).range([u,0]),h=o.BYU().domain([0,10]).range([0,n]),p=i.map((e,t)=>(0,s.jsx)("circle",{r:13,cx:h(e.y),cy:d(e.x),opacity:1,stroke:"#cb1dd1",fill:"#cb1dd1",fillOpacity:.2,strokeWidth:1},t));return(0,s.jsx)("div",{children:(0,s.jsx)("svg",{width:t,height:r,children:(0,s.jsxs)("g",{width:n,height:u,transform:"translate(".concat([l.left,l.top].join(","),")"),children:[(0,s.jsx)(a,{yScale:d,pixelsPerTick:40,width:n}),(0,s.jsx)("g",{transform:"translate(0, ".concat(u,")"),children:(0,s.jsx)(c,{xScale:h,pixelsPerTick:40,height:u})}),p]})})})},d=e=>{let{width:t=700,height:r=400}=e;return(0,s.jsx)(u,{data:i,width:t,height:r})}},90:function(e){e.exports={tooltip:"tooltip_tooltip__dixdW"}}},function(e){e.O(0,[3996,665,5660,645,1188,2428,5058,9774,2888,179],function(){return e(e.s=5044)}),_N_E=e.O()}]);