(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4065],{15047:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/course/introduction/introduction-to-d3",function(){return n(83171)}])},81122:function(e,t,n){"use strict";n.d(t,{$:function(){return c}});var i=n(85893),s=n(67294),r=n(59973),a=n(80615),l=n(88578),o=n(5);let c=e=>{let{VizComponent:t,vizName:n,height:c=400,maxWidth:d=800,caption:h}=e,[u,m]=(0,s.useState)(!1),x=(0,s.useRef)(null),p=(0,r.B)(x);return(0,i.jsx)("div",{style:{marginLeft:"-50vw",left:"50%"},className:"my-4 py-4 w-screen relative",children:u?(0,i.jsxs)("div",{className:"flex flex-col items-center justify-center w-full",children:[(0,i.jsx)("div",{style:{maxWidth:2e3},className:"w-full z-50",children:(0,i.jsx)(l.X,{vizName:n})}),(0,i.jsx)("div",{className:"flex justify-center mt-2",children:(0,i.jsx)(o.z,{size:"sm",onClick:()=>m(!u),children:"Hide Sandbox"})})]}):(0,i.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,i.jsx)("div",{className:"bg-gray-100 bg-opacity-50 w-screen flex justify-center z-50 pointer-events-none",children:(0,i.jsx)("div",{style:{height:c,width:"100%",maxWidth:d},ref:x,className:"pointer-events-auto",children:(0,i.jsx)(t,{height:c,width:p.width})})}),(0,i.jsx)(a.Y,{children:h}),(0,i.jsx)("div",{className:"flex justify-center",children:(0,i.jsx)(o.z,{size:"sm",onClick:()=>m(!u),children:"Show code"})})]})})}},88578:function(e,t,n){"use strict";n.d(t,{X:function(){return s}});var i=n(85893);n(67294);let s=e=>{let{vizName:t}=e;return(0,i.jsx)("iframe",{src:"https://codesandbox.io/embed/github/holtzy/react-graph-gallery/tree/main/viz/"+t+"?fontsize=14&hidenavigation=1&theme=dark&expanddevtools=0",style:{width:"100%",height:"500px",border:"solid",borderWidth:2,borderRadius:"4px",overflow:"hidden"},allow:"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking",sandbox:"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"})}},41843:function(e,t,n){"use strict";n.d(t,{p:function(){return c}});var i=n(85893),s=n(49700),r=n(63476),a=n(17414),l=n(41664),o=n.n(l);let c=e=>{let{children:t,title:n,seoDescription:l,previousTocItem:c,nextTocItem:d}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.A,{title:n,seoDescription:l}),(0,i.jsx)(s.Z,{}),(0,i.jsx)("div",{className:"wrapper",children:t}),(0,i.jsxs)("div",{className:"flex justify-center items-center space-x-6 my-24 py-12  bg-muted/50",children:[c?(0,i.jsxs)(o(),{href:c.link,className:"text-gray-500 no-underline flex flex-col justify-start items-end w-96 h-32 border-r border-black  p-8 hover:bg-muted ",children:[(0,i.jsx)("span",{className:"uppercase font-light text-transparent bg-gradient-to-l to-fuchsia-300 from-blue-400 bg-clip-text",children:"← Previous"}),(0,i.jsx)("p",{children:c.name})]}):(0,i.jsx)("div",{className:"w-96"}),d&&(0,i.jsxs)(o(),{href:d.link,className:"text-gray-500 no-underline flex flex-col justify-start w-96 h-32 border-l border-black  p-8 hover:bg-muted ",children:[(0,i.jsx)("span",{className:"uppercase font-light text-transparent bg-gradient-to-l from-fuchsia-300 to-blue-400 bg-clip-text",children:"Next →"}),(0,i.jsx)("p",{children:d.name})]})]}),(0,i.jsx)("div",{className:"wrapper",children:(0,i.jsx)(r.Z,{})})]})}},80615:function(e,t,n){"use strict";n.d(t,{Y:function(){return s}});var i=n(85893);let s=e=>{let{children:t}=e;return(0,i.jsx)("p",{className:"text-sm text-gray-500 max-w-xs italic text-center mt-4 font-light",children:t})}},59973:function(e,t,n){"use strict";n.d(t,{B:function(){return s}});var i=n(67294);let s=e=>{let t=()=>({width:e.current?e.current.offsetWidth:0,height:e.current?e.current.offsetHeight:0}),[n,s]=(0,i.useState)(t),r=()=>{s(t())};return(0,i.useEffect)(()=>(window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)),[]),(0,i.useEffect)(()=>{r()},[e]),n}},83171:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var i=n(85893);n(67294);var s=n(43710),r=n(41843),a=n(11236),l=n(80615),o=n(81122),c=n(98332),d=n(41664),h=n.n(d);function u(){let e=a.Y.find(e=>"/course/introduction/introduction-to-d3"===e.link);return e?(0,i.jsxs)(r.p,{title:e.name,seoDescription:"",nextTocItem:a.Y.find(e=>"/course/introduction/initial-setup"===e.link),previousTocItem:a.Y.find(e=>"/course/introduction/js-dataviz-libraries"===e.link),children:[(0,i.jsx)(s.Z,{title:e.name,lessonStatus:e.status,readTime:e.readTime,selectedLesson:e,description:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("p",{children:[(0,i.jsx)("a",{href:"https://d3js.org",children:"D3.js"})," is a powerful JavaScript library that offers a wide range of functions for creating dynamic graphs and visualizations."]}),(0,i.jsxs)("p",{children:["Its popularity is ",(0,i.jsx)("b",{children:"immense"}),"; you’ll find it hard to encounter a web-based graph that doesn’t leverage D3 in some capacity. Let’s explore why it’s become such an essential tool."]})]})}),(0,i.jsx)("h2",{children:"\uD83C\uDF33 Try to make a treemap"}),(0,i.jsxs)("p",{children:["Do you know what a"," ",(0,i.jsx)("a",{href:"https://www.data-to-viz.com/graph/treemap.html",children:"treemap"})," is?"]}),(0,i.jsxs)("p",{children:["It is this kind of graph, where rectangles are used to represent hierarchical data, with size ",(0,i.jsx)("b",{children:"proportional"})," to a value:"]}),(0,i.jsx)(o.$,{vizName:"Treemap2Levels",VizComponent:c.e,maxWidth:600,height:400,caption:"A basic treemap made with React and D3.js"}),(0,i.jsxs)("p",{children:["Drawing rectangles with React and some ",(0,i.jsx)("code",{children:"div"}),"s is simple. But"," ",(0,i.jsx)("b",{children:"how do you calculate the coordinates"})," to ensure each rectangle's area matches its corresponding value? \uD83D\uDE48"]}),(0,i.jsxs)("p",{children:["That's exactly what the ",(0,i.jsx)("code",{children:"treemap()"})," function in d3.js does for you."]}),(0,i.jsx)("p",{children:"And that's why we need d3!"}),(0,i.jsx)("p",{children:(0,i.jsx)("br",{})}),(0,i.jsxs)("blockquote",{children:["Note: the React Graph Gallery has a whole section on"," ",(0,i.jsx)(h(),{href:"/treemap",children:"treemaps"}),"! But do not try to understand the code for now!"]}),(0,i.jsx)("h2",{children:"❌ Not a Charting library"}),(0,i.jsxs)("p",{children:["It's important to understand that D3 is ",(0,i.jsx)("b",{children:"not a charting library"}),"."]}),(0,i.jsxs)("p",{children:["A charting library would offer a ready-made ",(0,i.jsx)("code",{children:"Scatterplot"})," ","component where you pass some properties, and it renders the chart for you."]}),(0,i.jsxs)("p",{children:["D3 doesn’t do that. It provides utility functions to help you create your scatterplot, but ",(0,i.jsx)("b",{children:"it won’t build it for you"}),"."]}),(0,i.jsxs)("div",{className:"flex flex-col items-center mt-8 mb-12",children:[(0,i.jsx)("img",{src:"/img/d3-website-overview.png",style:{width:"100%",maxWidth:900},alt:"Screenshot of the d3.js website"}),(0,i.jsx)(l.Y,{children:"D3.js website screenshot."})]}),(0,i.jsxs)("p",{children:['That\'s why d3 is ideal for "bespoke" dataviz. It requires more effort but gives you ',(0,i.jsx)("b",{children:"complete control"})," for any customization."]}),(0,i.jsx)("h2",{children:"\uD83D\uDDE1️ Only a fraction"}),(0,i.jsx)("p",{children:"D3.js offers a wide range of functions, which can be grouped into two main categories:"}),(0,i.jsx)("h3",{children:"\uD83D\uDCD0 Math functions"}),(0,i.jsxs)("p",{children:["These include functions like ",(0,i.jsx)("code",{children:"treemap()"})," mentioned earlier. They return numbers, positions, colors, or text, but don’t interact with the DOM."]}),(0,i.jsx)("h3",{children:"✍️ Rendering functions"}),(0,i.jsxs)("p",{children:["Functions that modify the DOM, like ",(0,i.jsx)("code",{children:"append"}),", which can add elements (e.g., a circle) to an SVG."]}),(0,i.jsx)("p",{children:(0,i.jsx)("br",{})}),(0,i.jsx)("p",{children:"Here’s the good news: in a React environment, we only need D3's math functions, since all the rendering will be handled by React and its JSX!"})]}):null}},98332:function(e,t,n){"use strict";n.d(t,{e:function(){return c}});var i=n(85893);let s={type:"node",name:"boss",value:0,children:[{type:"node",name:"Team Dataviz",value:0,children:[{type:"leaf",name:"Mark",value:90},{type:"leaf",name:"Robert",value:12},{type:"leaf",name:"Emily",value:34},{type:"leaf",name:"Marion",value:53}]},{type:"node",name:"Team DevOps",value:0,children:[{type:"leaf",name:"Nicolas",value:98},{type:"leaf",name:"Malki",value:22},{type:"leaf",name:"Dj\xe9",value:12}]},{type:"node",name:"Team Sales",value:0,children:[{type:"leaf",name:"M\xe9lanie",value:45},{type:"leaf",name:"Einstein",value:76}]}]};var r=n(67294),a=n(88657);let l=["#e0ac2b","#6689c6","#a4c969","#e85252","#9a6fb0","#a53253","#7f7f7f"],o=e=>{let{width:t,height:n,data:s}=e,o=(0,r.useMemo)(()=>a.bT9(s).sum(e=>e.value),[s]),c=null==o?void 0:null===(d=o.children)||void 0===d?void 0:d.map(e=>e.data.name);var d,h=a.PKp().domain(c||[]).range(l);let u=(0,r.useMemo)(()=>{let e=a.pNI().size([t,n]).padding(4);return e(o)},[o,t,n]),m=u.leaves().map((e,t)=>{var n;let s=null===(n=e.parent)||void 0===n?void 0:n.data.name;return(0,i.jsxs)("g",{children:[(0,i.jsx)("rect",{x:e.x0,y:e.y0,width:e.x1-e.x0,height:e.y1-e.y0,stroke:"transparent",fill:h(s),className:"opacity-80 hover:opacity-100"}),(0,i.jsx)("text",{x:e.x0+3,y:e.y0+3,fontSize:12,textAnchor:"start",alignmentBaseline:"hanging",fill:"white",className:"font-bold",children:e.data.name}),(0,i.jsx)("text",{x:e.x0+3,y:e.y0+18,fontSize:12,textAnchor:"start",alignmentBaseline:"hanging",fill:"white",className:"font-light",children:e.data.value})]},e.id)});return(0,i.jsx)("div",{children:(0,i.jsx)("svg",{width:t,height:n,children:m})})},c=e=>{let{width:t=700,height:n=400}=e;return(0,i.jsx)(o,{data:s,width:t,height:n})}}},function(e){e.O(0,[2343,7754,8657,8190,3710,9774,2888,179],function(){return e(e.s=15047)}),_N_E=e.O()}]);