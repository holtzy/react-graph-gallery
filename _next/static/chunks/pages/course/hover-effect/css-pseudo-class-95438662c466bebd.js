(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2172],{74730:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/course/hover-effect/css-pseudo-class",function(){return s(27157)}])},81122:function(e,t,s){"use strict";s.d(t,{$:function(){return o}});var i=s(85893),n=s(67294),r=s(59973),l=s(80615),c=s(88578),a=s(5);let o=e=>{let{VizComponent:t,vizName:s,height:o=400,maxWidth:d=800,caption:h}=e,[x,u]=(0,n.useState)(!1),p=(0,n.useRef)(null),m=(0,r.B)(p);return(0,i.jsx)("div",{style:{marginLeft:"-50vw",left:"50%"},className:"my-4 py-4 w-screen relative",children:x?(0,i.jsxs)("div",{className:"flex flex-col items-center justify-center w-full",children:[(0,i.jsx)("div",{style:{maxWidth:2e3},className:"w-full z-50",children:(0,i.jsx)(c.X,{vizName:s})}),(0,i.jsx)("div",{className:"flex justify-center mt-2",children:(0,i.jsx)(a.z,{size:"sm",onClick:()=>u(!x),children:"Hide Sandbox"})})]}):(0,i.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,i.jsx)("div",{className:"bg-gray-100 bg-opacity-50 w-screen flex justify-center z-50 pointer-events-none",children:(0,i.jsx)("div",{style:{height:o,width:"100%",maxWidth:d},ref:p,className:"pointer-events-auto",children:(0,i.jsx)(t,{height:o,width:m.width})})}),(0,i.jsx)(l.Y,{children:h}),(0,i.jsx)("div",{className:"flex justify-center",children:(0,i.jsx)(a.z,{size:"sm",onClick:()=>u(!x),children:"Show code"})})]})})}},88578:function(e,t,s){"use strict";s.d(t,{X:function(){return n}});var i=s(85893);s(67294);let n=e=>{let{vizName:t,height:s="500px"}=e;return(0,i.jsx)("iframe",{src:"https://codesandbox.io/embed/github/holtzy/react-graph-gallery/tree/main/viz/"+t+"?fontsize=14&hidenavigation=1&theme=dark&expanddevtools=0",style:{width:"100%",height:s,border:"solid",borderWidth:2,borderRadius:"4px",overflow:"hidden"},allow:"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking",sandbox:"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"})}},47498:function(e,t,s){"use strict";s.d(t,{v:function(){return d}});var i=s(85893),n=s(7826),r=s(13742),l=s(61108),c=s(67294),a=s(5),o=s(77522);let d=e=>{let{exercises:t,localStorageId:s}=e,[d,h]=(0,c.useState)([]),[x,u]=(0,c.useState)("");return(0,c.useEffect)(()=>{let e=localStorage.getItem(s),i=e?JSON.parse(e):Array(t.length).fill("todo");h(i)},[]),(0,i.jsx)(n.UQ,{value:x,onValueChange:u,type:"single",collapsible:!0,className:"w-full",children:t.map((e,t)=>(0,i.jsxs)(n.Qd,{value:"item-"+t,children:[(0,i.jsx)(n.o4,{className:"no-decoration hover:bg-gray-50",children:(0,i.jsxs)("div",{className:"text-sm flex justify-start gap-2 items-center",children:[(0,i.jsx)("div",{className:(0,o.cn)("text-xs h-6 w-6 flex justify-center items-center rounded-full text-center leading-none","todo"===d[t]?"bg-gray-200":"failed"===d[t]?"bg-red-300":"bg-green-300"),children:(0,i.jsx)("span",{style:{transform:"translateX(1px)"},children:t+1})}),(0,i.jsx)("span",{children:e.title}),"ok"===d[t]&&(0,i.jsx)(r.Z,{size:16,className:"text-green-500"}),"failed"===d[t]&&(0,i.jsx)(l.Z,{size:16,className:"text-red-500"}),"todo"===d[t]&&(0,i.jsx)("span",{className:"text-gray-400 font-thin",children:"ToDo"})]})}),(0,i.jsxs)(n.vF,{children:[e.content,(0,i.jsxs)("div",{className:"flex justify-center gap-4",children:[(0,i.jsx)(a.z,{variant:"outline",onClick:()=>{let e=[...d];e[t]="failed",h(e),localStorage.setItem(s,JSON.stringify(e)),u("")},children:"Failed"}),(0,i.jsxs)(a.z,{onClick:()=>{let e=[...d];e[t]="ok",h(e),localStorage.setItem(s,JSON.stringify(e)),u("")},children:["Done",(0,i.jsx)("span",{className:"ml-2",children:"\uD83C\uDF89"})]})]})]})]}))})}},13400:function(e,t,s){"use strict";s.d(t,{q:function(){return o}});var i=s(85893),n=s(22725),r=s(67294),l=s(88578),c=s(8117),a=s(5);let o=e=>{let{exercise:t}=e,[s,o]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{let e=e=>{"Escape"===e.key&&o(!1)};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}},[]),(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4 pt-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(c.C,{children:"To Do"}),(0,i.jsx)("div",{className:"mt-4",children:t.toDo})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(c.C,{children:"Why it matters"}),(0,i.jsx)("div",{className:"mt-4 pl-4",children:t.whyItMatters})]})]}),(0,i.jsxs)(n.mQ,{defaultValue:"practice",className:"relative",children:[(0,i.jsxs)("div",{className:"flex justify-center items-center",children:[(0,i.jsxs)(n.dr,{children:[(0,i.jsx)(n.SP,{value:"practice",children:"Practice"}),(0,i.jsx)(n.SP,{value:"solution",children:"Solution"})]}),(0,i.jsx)("div",{className:"absolute right-0",children:(0,i.jsx)(a.z,{size:"sm",variant:"outline",onClick:()=>o(!0),children:"Show full screen"})})]}),(0,i.jsx)(n.nU,{value:"practice",children:(0,i.jsxs)("div",{className:s?"fixed h-screen inset-0 flex justify-center items-center":"my-4",children:[s&&(0,i.jsx)("div",{className:"absolute inset-0 w-full h-full bg-white/80"}),(0,i.jsxs)("div",{className:s?"relative w-4/5 h-4/5":"",children:[(0,i.jsx)(l.X,{vizName:t.practiceSandbox,height:s?"100%":"500px"}),s&&(0,i.jsx)("div",{className:"w-full mt-2 flex justify-center",children:(0,i.jsx)(a.z,{onClick:()=>o(!1),variant:"destructive",children:"Leave Fullscreen mode"})})]})]})}),(0,i.jsx)(n.nU,{value:"solution",children:(0,i.jsx)("div",{className:"full-bleed my-4 max-w-7xl mx-auto",children:(0,i.jsx)(l.X,{vizName:t.solutionSandbox})})})]})]})}},52450:function(e,t,s){"use strict";s.d(t,{Z:function(){return c}});var i=s(85893);s(67294);var n=s(92050),r=s(49975),l=s(59942);function c(e){let{images:t}=e,s=n.F.filter(e=>t.includes(e.img)).map((e,t)=>(0,i.jsx)(r.X,{link:e.link,title:e.title,description:(0,i.jsx)("p",{children:e.description}),img:e.img,alt:e.alt},t));return(0,i.jsx)(l.E,{children:s})}},72182:function(e,t,s){"use strict";s.d(t,{b:function(){return n}});var i=s(85893);let n=e=>{let{children:t}=e;return(0,i.jsx)("span",{className:"font-semibol bg-purple-100 p-1",children:t})}},80615:function(e,t,s){"use strict";s.d(t,{Y:function(){return n}});var i=s(85893);let n=e=>{let{children:t}=e;return(0,i.jsx)("p",{className:"text-sm text-gray-500 max-w-xs italic text-center mt-4 font-light",children:t})}},3572:function(e,t,s){"use strict";s.d(t,{d:function(){return d}});var i=s(85893),n=s(32581),r=s(15660),l=s.n(r),c=s(67294),a=s(45993),o=s.n(a);let d=e=>{let{code:t}=e,[s,r]=(0,c.useState)(!1),a=(0,c.useRef)(null);(0,c.useEffect)(()=>{a.current&&l().highlightElement(a.current)},[a,t]);let d=(0,i.jsx)("div",{onClick:()=>{navigator.clipboard.writeText(t),r(!0)},className:o().codeChunckCopyButton,children:s?"Copied":(0,i.jsx)(n.Z,{size:14,style:{padding:0}})});return(0,i.jsxs)("div",{className:"mb-6 relative",children:[(0,i.jsx)("pre",{className:"rounded-md line-numbers",children:(0,i.jsx)("code",{ref:a,className:"language-javascript",children:t})}),(0,i.jsx)("div",{className:o().copyButtonContainer,children:d})]})}},7826:function(e,t,s){"use strict";s.d(t,{Qd:function(){return o},UQ:function(){return a},o4:function(){return d},vF:function(){return h}});var i=s(85893),n=s(67294),r=s(47398),l=s(8971),c=s(77522);let a=r.fC,o=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,i.jsx)(r.ck,{ref:t,className:(0,c.cn)("border-b",s),...n})});o.displayName="AccordionItem";let d=n.forwardRef((e,t)=>{let{className:s,children:n,...a}=e;return(0,i.jsx)(r.h4,{className:"flex mt-0 pb-0 font-normal",children:(0,i.jsxs)(r.xz,{ref:t,className:(0,c.cn)("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",s),...a,children:[n,(0,i.jsx)(l.Z,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})})});d.displayName=r.xz.displayName;let h=n.forwardRef((e,t)=>{let{className:s,children:n,...l}=e;return(0,i.jsx)(r.VY,{ref:t,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...l,children:(0,i.jsx)("div",{className:(0,c.cn)("pb-4 pt-0",s),children:n})})});h.displayName=r.VY.displayName},59973:function(e,t,s){"use strict";s.d(t,{B:function(){return n}});var i=s(67294);let n=e=>{let t=()=>({width:e.current?e.current.offsetWidth:0,height:e.current?e.current.offsetHeight:0}),[s,n]=(0,i.useState)(t),r=()=>{n(t())};return(0,i.useEffect)(()=>(window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)),[]),(0,i.useEffect)(()=>{r()},[e]),s}},27157:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return v}});var i=s(85893);s(67294);var n=s(43710),r=s(41843),l=s(11236),c=s(81122),a=s(421),o=s(3572),d=s(8117),h=s(52450),x=s(13400),u=s(47498),p=s(41664),m=s.n(p),j=s(72182);let f="/course/hover-effect/css-pseudo-class";function v(){let e=l.Y.find(e=>e.link===f);return(l.Y.findIndex(e=>e.link===f),e)?(0,i.jsxs)(r.p,{title:e.name,seoDescription:"",nextTocItem:l.Y.find(e=>"/course/hover-effect/css-descendant-selector"===e.link),previousTocItem:l.Y.find(e=>"/course/hover-effect/introduction"===e.link),children:[(0,i.jsx)(n.Z,{title:e.name,lessonStatus:e.status,readTime:e.readTime,selectedLesson:e,description:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("p",{children:"The simplest strategy."}),(0,i.jsxs)("p",{children:["Let's explore how to use a CSS pseudo-class to modify ",(0,i.jsx)("b",{children:"only"})," ","the graph item that is being hovered over."]})]})}),(0,i.jsx)("h2",{children:"What is a pseudo class"}),(0,i.jsxs)("p",{children:["A CSS ",(0,i.jsx)("b",{children:"pseudo-class"})," is a keyword added to a CSS selector that specifies a special state of the selected element(s). You can learn more about pseudo-classes in the"," ",(0,i.jsx)("a",{href:"https://developer.mozilla.org/en-US/docs/Web/CSS/Pseudo-classes",children:"MDN doc"}),"."]}),(0,i.jsxs)("p",{children:["Essentially, this means you can assign a class to each shape in a graph and change its appearance ",(0,i.jsx)("b",{children:"when the user hovers"})," over it."]}),(0,i.jsx)("p",{children:"Here is an example:"}),(0,i.jsx)(o.d,{code:"\n.scatterplotCircle {\n  cursor: pointer;\n  fill-opacity: .3;\n  stroke-width: 2px;\n}\n\n.scatterplotCircle:hover {\n  fill-opacity: 1;\n  stroke-width: 1px;\n}\n".trim()}),(0,i.jsx)("h2",{children:"Application on a scatterplot"}),(0,i.jsxs)("p",{children:["Consider a scatterplot with multiple SVG ",(0,i.jsx)("code",{children:"circle"})," elements, each assigned a ",(0,i.jsx)("code",{children:".scatterplotCircle"})," class. In the CSS file, you can set the ",(0,i.jsx)("code",{children:"fill-opacity"})," to ",(0,i.jsx)("code",{children:"0.3"})," using this class."]}),(0,i.jsxs)("p",{children:["To change the appearance on hover, use the"," ",(0,i.jsx)("code",{children:".scatterplotCircle:hover"})," selector to increase the opacity to 1."]}),(0,i.jsx)(c.$,{vizName:"ScatterplotHoverHighlightPseudoClass",VizComponent:a.z,maxWidth:400,height:500,caption:"Strategy 1: use a pseudo-class to change the appearance of the hovered marker"}),(0,i.jsx)("h2",{children:"Pros & Cons"}),(0,i.jsx)("p",{children:(0,i.jsx)(d.C,{children:"Pros"})}),(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:"Easy to implement"}),(0,i.jsx)("li",{children:"Excellent performance (no JS computation, minimal redrawing)"})]}),(0,i.jsx)("p",{children:(0,i.jsx)(d.C,{variant:"destructive",children:"Cons"})}),(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:"Poor design: non-hovered circles remain prominent, so the highlight effect is weak"}),(0,i.jsx)("li",{children:"If the highlight information comes as a prop, another solution is needed"})]}),(0,i.jsx)("h2",{children:"More examples"}),(0,i.jsx)("p",{children:"The examples below all use this strategy to implement their hover effect."}),(0,i.jsx)(h.Z,{images:["heatmapVaccination.png","treemap-most-basic.png"]}),(0,i.jsx)("h2",{children:"Exercices"}),(0,i.jsx)(u.v,{localStorageId:e.link,exercises:[{title:(0,i.jsx)("span",{children:"Three circles"}),content:(0,i.jsx)(x.q,{exercise:g[0]})},{title:(0,i.jsx)("span",{children:"Your first treemap"}),content:(0,i.jsx)(x.q,{exercise:g[1]})},{title:(0,i.jsxs)("span",{children:["Death by ",(0,i.jsx)("code",{children:"useState()"})]}),content:(0,i.jsx)(x.q,{exercise:g[2]})},{title:(0,i.jsx)("span",{children:"Fix the mess!"}),content:(0,i.jsx)(x.q,{exercise:g[3]})}]})]}):null}let g=[{whyItMatters:(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("p",{children:["Learn the ",(0,i.jsx)("code",{children:":hover"})," pseudo-class once, and you'll remember it forever!"]})}),toDo:(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:"Add 3 circles in the SVG area."}),(0,i.jsxs)("li",{children:["Apply the ",(0,i.jsx)("code",{children:":hover"})," pseudo-class to change their style on hover."]})]})}),practiceSandbox:"exercise/Hover3CirclesPractice",solutionSandbox:"exercise/Hover3CirclesSolution"},{whyItMatters:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("p",{children:["The ",(0,i.jsx)("code",{children:":hover"})," pseudo-class is especially useful in treemaps, a great alternative to pie charts."]}),(0,i.jsx)("p",{children:"Let's use this opportunity to create your first treemap!"})]}),toDo:(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:"A dataset is provided with numeric values for 5 groups (A â†’ E)."}),(0,i.jsxs)("li",{children:["Use d3's ",(0,i.jsx)("code",{children:"treemap()"})," function to calculate positions for the 5 rectangles."]}),(0,i.jsxs)("li",{children:["Render the 5 rectangles using ",(0,i.jsx)("code",{children:"rect"})," elements in the SVG area."]}),(0,i.jsxs)("li",{children:["For more details, refer to the"," ",(0,i.jsx)(m(),{href:"/treemap",children:"treemap section"})," in the gallery!"]})]})}),practiceSandbox:"exercise/HoverFirstTreemapPractice",solutionSandbox:"exercise/HoverFirstTreemapSolution"},{whyItMatters:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("p",{children:"Performance matters, and can quicly become a nightmare when dealing with interactivity."}),(0,i.jsx)("p",{children:"This exercise shows a very common mistake: too much rerendering."})]}),toDo:(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:"A dataset containing 500,000 data points is provided."}),(0,i.jsxs)("li",{children:["Create a state variable to store the ID of the data point to highlight. This variable should initially be set to"," ",(0,i.jsx)("code",{children:"null"})," and can later hold a value between 0 and 500,000."]}),(0,i.jsx)("li",{children:"Render all 500,000 data points as small circles."}),(0,i.jsx)("li",{children:"Display the circles in black, except for the highlighted circle, which should appear in red."}),(0,i.jsxs)("li",{children:["Add an ",(0,i.jsx)("code",{children:"onMouseOver"})," event to update the state with the ID of the hovered circle."]}),(0,i.jsxs)("li",{children:["Now play with the chart."," ",(0,i.jsx)(j.b,{children:"What do you think about performances?"})]})]})}),practiceSandbox:"exercise/HoverDeathByStatePractice",solutionSandbox:"exercise/HoverDeathByStateSolution"},{whyItMatters:(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("p",{children:"When something can be achieved with CSS only, always ditch Javascript!"})}),toDo:(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:"Fix the previous exercise: instead of using a js state, use a css pseudo class for the hover effect!"})})}),practiceSandbox:"exercise/HoverDeathByStateFixPractice",solutionSandbox:"exercise/HoverDeathByStateFixSolution"}]},45993:function(e){e.exports={codeChunckCopyButton:"code-block_codeChunckCopyButton__yPrL_",copyButtonContainer:"code-block_copyButtonContainer__BrX9E"}}},function(e){e.O(0,[2343,7754,3950,7823,9484,8190,3710,693,7934,9774,2888,179],function(){return e(e.s=74730)}),_N_E=e.O()}]);