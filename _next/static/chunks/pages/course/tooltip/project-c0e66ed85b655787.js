(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8322],{36986:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/course/tooltip/project",function(){return n(34633)}])},81122:function(e,t,n){"use strict";n.d(t,{$:function(){return o}});var s=n(85893),r=n(67294),i=n(59973),a=n(80615),l=n(88578),c=n(5);let o=e=>{let{VizComponent:t,vizName:n,height:o=400,maxWidth:d=800,caption:h,fileToOpen:u}=e,[x,p]=(0,r.useState)(!1),m=(0,r.useRef)(null),f=(0,i.B)(m);return(0,s.jsx)("div",{style:{marginLeft:"-50vw",left:"50%"},className:"my-4 py-4 w-screen relative",children:x?(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center w-full",children:[(0,s.jsx)("div",{style:{maxWidth:2e3},className:"w-full z-50",children:(0,s.jsx)(l.X,{vizName:n,fileToOpen:u})}),(0,s.jsx)("div",{className:"flex justify-center mt-2",children:(0,s.jsx)(c.z,{size:"sm",onClick:()=>p(!x),children:"Hide Sandbox"})})]}):(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,s.jsx)("div",{className:"bg-gray-100 bg-opacity-50 w-screen flex justify-center z-50 pointer-events-none",children:(0,s.jsx)("div",{style:{height:o,width:"100%",maxWidth:d},ref:m,className:"pointer-events-auto",children:(0,s.jsx)(t,{height:o,width:f.width})})}),(0,s.jsx)(a.Y,{children:h}),(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsx)(c.z,{size:"sm",onClick:()=>p(!x),children:"Show code"})})]})})}},88578:function(e,t,n){"use strict";n.d(t,{X:function(){return r}});var s=n(85893);n(67294);let r=e=>{let{vizName:t,height:n="500px",fileToOpen:r}=e;return console.log("rerendeeeerrrrr"),(0,s.jsx)("iframe",{src:"https://codesandbox.io/embed/github/holtzy/react-graph-gallery/tree/main/viz/"+t+"?fontsize=14&hidenavigation=1&theme=dark&expanddevtools=0&view=split"+(r?"&module=/".concat(r):""),style:{width:"100%",height:n,border:"solid",borderWidth:2,borderRadius:"4px",overflow:"hidden"},allow:"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking",sandbox:"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"})}},41843:function(e,t,n){"use strict";n.d(t,{p:function(){return o}});var s=n(85893),r=n(49700),i=n(63476),a=n(17414),l=n(41664),c=n.n(l);let o=e=>{let{children:t,title:n,seoDescription:l,previousTocItem:o,nextTocItem:d}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.A,{title:n,seoDescription:l}),(0,s.jsx)(r.Z,{}),(0,s.jsx)("div",{className:"wrapper",children:t}),(0,s.jsxs)("div",{className:"flex justify-center items-center space-x-6 my-24 py-12  bg-muted/50",children:[o?(0,s.jsxs)(c(),{href:o.link,className:"text-gray-500 no-underline flex flex-col justify-start items-end w-96 h-32 border-r border-black  p-8 hover:bg-muted ",children:[(0,s.jsx)("span",{className:"uppercase font-light text-transparent bg-gradient-to-l to-fuchsia-300 from-blue-400 bg-clip-text",children:"← Previous"}),(0,s.jsx)("p",{children:o.name})]}):(0,s.jsx)("div",{className:"w-96"}),d&&(0,s.jsxs)(c(),{href:d.link,className:"text-gray-500 no-underline flex flex-col justify-start w-96 h-32 border-l border-black  p-8 hover:bg-muted ",children:[(0,s.jsx)("span",{className:"uppercase font-light text-transparent bg-gradient-to-l from-fuchsia-300 to-blue-400 bg-clip-text",children:"Next →"}),(0,s.jsx)("p",{children:d.name})]})]}),(0,s.jsx)("div",{className:"wrapper",children:(0,s.jsx)(i.Z,{})})]})}},80615:function(e,t,n){"use strict";n.d(t,{Y:function(){return r}});var s=n(85893);let r=e=>{let{children:t}=e;return(0,s.jsx)("p",{className:"text-sm text-gray-500 max-w-xs italic text-center mt-4 font-light",children:t})}},3572:function(e,t,n){"use strict";n.d(t,{d:function(){return d}});var s=n(85893),r=n(32581),i=n(15660),a=n.n(i),l=n(67294),c=n(45993),o=n.n(c);let d=e=>{let{code:t}=e,[n,i]=(0,l.useState)(!1),c=(0,l.useRef)(null);(0,l.useEffect)(()=>{c.current&&a().highlightElement(c.current)},[c,t]);let d=(0,s.jsx)("div",{onClick:()=>{navigator.clipboard.writeText(t),i(!0)},className:o().codeChunckCopyButton,children:n?"Copied":(0,s.jsx)(r.Z,{size:14,style:{padding:0}})});return(0,s.jsxs)("div",{className:"mb-6 relative",children:[(0,s.jsx)("pre",{className:"rounded-md line-numbers",children:(0,s.jsx)("code",{ref:c,className:"language-javascript",children:t})}),(0,s.jsx)("div",{className:o().copyButtonContainer,children:d})]})}},59973:function(e,t,n){"use strict";n.d(t,{B:function(){return r}});var s=n(67294);let r=e=>{let t=()=>({width:e.current?e.current.offsetWidth:0,height:e.current?e.current.offsetHeight:0}),[n,r]=(0,s.useState)(t),i=()=>{r(t())};return(0,s.useEffect)(()=>(window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)),[]),(0,s.useEffect)(()=>{i()},[e]),n}},34633:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var s=n(85893);n(67294);var r=n(43710),i=n(41843),a=n(11236),l=n(81122),c=n(41751),o=n(3572),d=n(41664),h=n.n(d),u=n(5),x=n(77522);function p(){let e=a.Y.find(e=>"/course/tooltip/project"===e.link);return e?(0,s.jsxs)(i.p,{title:e.name,seoDescription:"",nextTocItem:a.Y.find(e=>"/course/legend/introduction"===e.link),previousTocItem:a.Y.find(e=>"/course/tooltip/templates"===e.link),children:[(0,s.jsx)(r.Z,{title:e.name,lessonStatus:e.status,readTime:e.readTime,selectedLesson:e,description:(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("p",{children:"We’ve covered a lot in the previous modules! \uD83C\uDF89 Now, let’s put it all together by recreating one of the most famous heatmaps. This exercise will include features like hover effects, tooltips, responsiveness, color scales, and more."})})}),(0,s.jsx)("h2",{children:"\uD83D\uDCCD Our Objective"}),(0,s.jsxs)("p",{children:["In this lesson, our goal is to recreate a ",(0,s.jsx)("b",{children:"famous heatmap"})," that illustrates the impact of vaccination on measles infection rates."]}),(0,s.jsx)("p",{children:"This heatmap includes several great features:"}),(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:"Clear, intuitive color scale"}),(0,s.jsx)("li",{children:"Legend"}),(0,s.jsx)("li",{children:"Tooltip"}),(0,s.jsx)("li",{children:"Hover effect"})]}),(0,s.jsx)("p",{children:(0,s.jsx)("br",{})}),(0,s.jsx)(c.W,{width:650,height:550}),(0,s.jsx)("h2",{children:"The Data"}),(0,s.jsx)("p",{children:"The dataset is straightforward!"}),(0,s.jsxs)("p",{children:["It’s an array where each item represents a cell. The ",(0,s.jsx)("code",{children:"x"})," ","value is the year, mapped to the X-axis. The ",(0,s.jsx)("code",{children:"y"})," value is the US state, mapped to the Y-axis. Finally, the ",(0,s.jsx)("code",{children:"value"})," is used to determine the cell color."]}),(0,s.jsx)(o.d,{code:'\nconst data = [\n  {\n    x: 1928,\n    y: "Alaska",\n    value: null\n  },\n  {\n    x: 1928,\n    y: "Ala.",\n    value: 334.9621212\n  },\n      '.trim()}),(0,s.jsxs)("p",{children:["You can find the complete js object"," ",(0,s.jsx)("a",{href:"https://github.com/holtzy/react-graph-gallery/blob/main/viz/HeatmapVaccination/data.ts",children:"here"}),"."]}),(0,s.jsx)("p",{children:(0,s.jsx)(h(),{className:(0,x.cn)("no-underline",(0,u.d)({variant:"default"})),href:"https://github.com/holtzy/react-graph-gallery/blob/main/viz/HeatmapVaccination/data.ts",children:"Get full data"})}),(0,s.jsx)("h2",{children:"Good Luck!"}),(0,s.jsx)("p",{children:"Here are a few helpful hints"}),(0,s.jsx)("h3",{children:"\uD83C\uDF08 Color scale"}),(0,s.jsxs)("p",{children:["The color scale is not straightforward. It is built like below. See the power of ",(0,s.jsx)("code",{children:"scaleLinear"}),"? it can interpolate between several colors in an array."]}),(0,s.jsx)(o.d,{code:'\n\nconst COLORS = [\n  "#e7f0fa",\n  "#c9e2f6",\n  "#95cbee",\n  "#0099dc",\n  "#4ab04a",\n  "#ffd73e",\n  "#eec73a",\n  "#e29421",\n  "#e29421",\n  "#f05336",\n  "#ce472e",\n];\n\nconst THRESHOLDS = [\n  0, 0.01, 0.02, 0.03, 0.09, 0.1, 0.15, 0.25, 0.4, 0.5, 1,\n];\n\n\nconst colorScale = d3\n  .scaleLinear<string>()\n  .domain(THRESHOLDS.map((t) => t * max))\n  .range(COLORS);\n      '}),(0,s.jsx)("h3",{children:"\uD83E\uDD84 Color legend"}),(0,s.jsx)("p",{children:"Take a few seconds to think about how you would build it. Also, did you notice that a little arrow appears on the legend when a cell is hovered over?"}),(0,s.jsxs)("p",{children:["Once you have a good idea, read and use the code of the legend component",(0,s.jsx)("a",{href:"https://github.com/holtzy/react-graph-gallery/blob/main/viz/HeatmapVaccination/ColorLegend.tsx",children:"here"}),"."]}),(0,s.jsx)("p",{children:(0,s.jsx)(h(),{className:(0,x.cn)("no-underline",(0,u.d)({variant:"default"})),href:"https://github.com/holtzy/react-graph-gallery/blob/main/viz/HeatmapVaccination/ColorLegend.tsx",children:"Legend Component"})}),(0,s.jsx)("h3",{children:"\uD83D\uDCCF Scales"}),(0,s.jsxs)("p",{children:["x and y scales are band scales made with ",(0,s.jsx)("code",{children:"scaleBand()"})]}),(0,s.jsx)("h2",{children:"Solution"}),(0,s.jsx)(l.$,{VizComponent:c.W,vizName:"HeatmapVaccination",maxWidth:800,height:550,caption:"Number of Measles infected people over 70-some years and across all 50 states. Can you guess when a vaccine was introduced?"})]}):null}},45993:function(e){e.exports={codeChunckCopyButton:"code-block_codeChunckCopyButton__yPrL_",copyButtonContainer:"code-block_copyButtonContainer__BrX9E"}}},function(e){e.O(0,[2343,7754,2313,7823,8190,3710,1751,9774,2888,179],function(){return e(e.s=36986)}),_N_E=e.O()}]);